var ro=Object.defineProperty;var lo=(e,t,n)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var an=(e,t,n)=>(lo(e,typeof t!="symbol"?t+"":t,n),n);import{M as ge,aO as io,c as g,r as xe,w as ie,aP as Un,aQ as so,I as fa,h as b,g as Ee,ag as Ve,W as Oe,ab as uo,Q as Tn,aM as va,o as xn,U as co,S as fo,D as On,_ as Wn,K as ga,av as vo,at as go,am as ho,al as Gn,aR as yn,aS as Kn,aT as mo,Z as qn,aU as po,aA as at,aV as bo,aW as At,aX as yo,aY as So,aZ as _o,a_ as ke,a$ as rt,b0 as Zn,ar as gt,b1 as on,b2 as rn,b3 as Ke,b4 as wo,b5 as Tt,b6 as Eo,b7 as Co,b8 as Do,b9 as Po,ba as Nn,ad as Se,bb as Pe,bc as Ae,bd as ze,$ as To,be as xo,bf as Oo,d as Fe,p as ye,q as He,t as L,j as k,A as je,ae as ln,y as ha,E as Sn,u as I,ap as kn,z as ma,R as Bn,bg as qo,aF as No,bh as ko,bi as Bo,v as Rt,F as _n,x as Ao,af as Ro,bj as Io,bk as Fo,ao as Mo,bl as $o,aE as Lo}from"./index.1b81d5d9.js";import{Q as Vo,b as zo,c as jo,d as pa,e as sn,f as Ho,g as Qo,h as Xo,i as Yo,a as ht,j as Uo,u as An,S as Wo,_ as De}from"./SBtn.386dd5c3.js";import{f as Qe,h as Xe,i as Go,g as Ko}from"./use-prevent-scroll.d4318e21.js";import{Q as ba}from"./QScrollArea.1873af3f.js";function xt(e,t){return[!0,!1].includes(e)?e:t}var Zo=ge({name:"QPagination",props:{...Qe,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||io.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:n}=Ee(),{$q:a}=n,o=Xe(e,a),r=g(()=>parseInt(e.min,10)),l=g(()=>parseInt(e.max,10)),s=g(()=>parseInt(e.maxPages,10)),i=g(()=>v.value+" / "+l.value),c=g(()=>xt(e.boundaryLinks,e.input)),u=g(()=>xt(e.boundaryNumbers,!e.input)),f=g(()=>xt(e.directionLinks,e.input)),y=g(()=>xt(e.ellipses,!e.input)),p=xe(null),v=g({get:()=>e.modelValue,set:C=>{if(C=parseInt(C,10),e.disable||isNaN(C))return;const x=Go(C,r.value,l.value);e.modelValue!==x&&t("update:modelValue",x)}});ie(()=>`${r.value}|${l.value}`,()=>{v.value=e.modelValue});const h=g(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),S=g(()=>e.gutter in Un?`${Un[e.gutter]}px`:e.gutter||null),O=g(()=>S.value!==null?`--q-pagination-gutter-parent:-${S.value};--q-pagination-gutter-child:${S.value}`:null),T=g(()=>{const C=[e.iconFirst||a.iconSet.pagination.first,e.iconPrev||a.iconSet.pagination.prev,e.iconNext||a.iconSet.pagination.next,e.iconLast||a.iconSet.pagination.last];return a.lang.rtl===!0?C.reverse():C}),F=g(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),N=g(()=>so(e,"flat")),M=g(()=>({[N.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),W=g(()=>{const C={[N.value]:!1};return e.activeDesign!==""&&(C[e.activeDesign]=!0),C}),he=g(()=>({...W.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),ne=g(()=>{let C=Math.max(s.value,1+(y.value?2:0)+(u.value?2:0));const x={pgFrom:r.value,pgTo:l.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(l.value).length)}em`}};return s.value&&C<l.value-r.value+1&&(C=1+Math.floor(C/2)*2,x.pgFrom=Math.max(r.value,Math.min(l.value-C+1,e.modelValue-Math.floor(C/2))),x.pgTo=Math.min(l.value,x.pgFrom+C-1),u.value&&(x.boundaryStart=!0,x.pgFrom++),y.value&&x.pgFrom>r.value+(u.value?1:0)&&(x.ellipsesStart=!0,x.pgFrom++),u.value&&(x.boundaryEnd=!0,x.pgTo--),y.value&&x.pgTo<l.value-(u.value?1:0)&&(x.ellipsesEnd=!0,x.pgTo--)),x});function U(C){v.value=C}function ee(C){v.value=v.value+C}const G=g(()=>{function C(){v.value=p.value,p.value=null}return{"onUpdate:modelValue":x=>{p.value=x},onKeyup:x=>{fa(x,13)===!0&&C()},onBlur:C}});function K(C,x,oe){const Q={"aria-label":x,"aria-current":"false",...M.value,...C};return oe===!0&&Object.assign(Q,{"aria-current":"true",...he.value}),x!==void 0&&(e.toFn!==void 0?Q.to=e.toFn(x):Q.onClick=()=>{U(x)}),b(Ve,Q)}return Object.assign(n,{set:U,setByOffset:ee}),()=>{const C=[],x=[];let oe;if(c.value===!0&&(C.push(K({key:"bls",disable:e.disable||e.modelValue<=r.value,icon:T.value[0]},r.value)),x.unshift(K({key:"ble",disable:e.disable||e.modelValue>=l.value,icon:T.value[3]},l.value))),f.value===!0&&(C.push(K({key:"bdp",disable:e.disable||e.modelValue<=r.value,icon:T.value[1]},e.modelValue-1)),x.unshift(K({key:"bdn",disable:e.disable||e.modelValue>=l.value,icon:T.value[2]},e.modelValue+1))),e.input!==!0){oe=[];const{pgFrom:Q,pgTo:me,marginalStyle:se}=ne.value;if(ne.value.boundaryStart===!0){const Z=r.value===e.modelValue;C.push(K({key:"bns",style:se,disable:e.disable,label:r.value},r.value,Z))}if(ne.value.boundaryEnd===!0){const Z=l.value===e.modelValue;x.unshift(K({key:"bne",style:se,disable:e.disable,label:l.value},l.value,Z))}ne.value.ellipsesStart===!0&&C.push(K({key:"bes",style:se,disable:e.disable,label:"\u2026",ripple:!1},Q-1)),ne.value.ellipsesEnd===!0&&x.unshift(K({key:"bee",style:se,disable:e.disable,label:"\u2026",ripple:!1},me+1));for(let Z=Q;Z<=me;Z++)oe.push(K({key:`bpg${Z}`,style:se,disable:e.disable,label:Z},Z,Z===e.modelValue))}return b("div",{class:h.value,...F.value},[b("div",{class:"q-pagination__content row no-wrap items-center",style:O.value},[...C,e.input===!0?b(Vo,{class:"inline",style:{width:`${i.value.length/1.5}em`},type:"number",dense:!0,value:p.value,disable:e.disable,dark:o.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:i.value,min:r.value,max:l.value,...G.value}):b("div",{class:"q-pagination__middle row justify-center"},oe),...x])])}}}),ya=ge({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=Ee(),a=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return b("td",{class:a.value},Oe(t.default));const o=n.vnode.key,r=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(r===void 0)return;const{row:l}=e.props;return b("td",{class:a.value+r.__tdClass(l),style:r.__tdStyle(l)},Oe(t.default))}}}),Jo=ge({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const a=Ee(),{proxy:{$q:o}}=a,r=l=>{n("click",l)};return()=>{if(e.props===void 0)return b("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:r},Oe(t.default));let l,s;const i=a.vnode.key;if(i){if(l=e.props.colsMap[i],l===void 0)return}else l=e.props.col;if(l.sortable===!0){const u=l.align==="right"?"unshift":"push";s=uo(t.default,[]),s[u](b(Tn,{class:l.__iconClass,name:o.iconSet.table.arrowUp}))}else s=Oe(t.default);const c={class:l.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:l.headerStyle,onClick:u=>{l.sortable===!0&&e.props.sort(l),r(u)}};return b("th",c,s)}}});const er={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},un={xs:2,sm:4,md:8,lg:16,xl:24};var tr=ge({name:"QSeparator",props:{...Qe,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Ee(),n=Xe(e,t.proxy.$q),a=g(()=>e.vertical===!0?"vertical":"horizontal"),o=g(()=>` q-separator--${a.value}`),r=g(()=>e.inset!==!1?`${o.value}-${er[e.inset]}`:""),l=g(()=>`q-separator${o.value}${r.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=g(()=>{const i={};if(e.size!==void 0&&(i[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const c=e.spaced===!0?`${un.md}px`:e.spaced in un?`${un[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];i[`margin${u[0]}`]=i[`margin${u[1]}`]=c}return i});return()=>b("hr",{class:l.value,style:s.value,"aria-orientation":a.value})}}),Sa=ge({name:"QList",props:{...Qe,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=Ee(),a=Xe(e,n.proxy.$q),o=g(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>b(e.tag,{class:o.value},Oe(t.default))}});const nr=["horizontal","vertical","cell","none"];var ar=ge({name:"QMarkupTable",props:{...Qe,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>nr.includes(e)}},setup(e,{slots:t}){const n=Ee(),a=Xe(e,n.proxy.$q),o=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>b("div",{class:o.value},[b("table",{class:"q-table"},Oe(t.default))])}});function _a(e,t){return b("div",e,[b("table",{class:"q-table"},t)])}const or={list:Sa,table:ar},rr=["list","table","__qtable"];var lr=ge({name:"QVirtualScroll",props:{...zo,type:{type:String,default:"list",validator:e=>rr.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let a;const o=xe(null),r=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:l,localResetVirtualScroll:s,padVirtualScroll:i,onVirtualScrollEvt:c}=jo({virtualScrollLength:r,getVirtualScrollTarget:v,getVirtualScrollEl:p}),u=g(()=>{if(r.value===0)return[];const T=(F,N)=>({index:l.value.from+N,item:F});return e.itemsFn===void 0?e.items.slice(l.value.from,l.value.to).map(T):e.itemsFn(l.value.from,l.value.to-l.value.from).map(T)}),f=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),y=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ie(r,()=>{s()}),ie(()=>e.scrollTarget,()=>{S(),h()});function p(){return o.value.$el||o.value}function v(){return a}function h(){a=Ko(p(),e.scrollTarget),a.addEventListener("scroll",c,Wn.passive)}function S(){a!==void 0&&(a.removeEventListener("scroll",c,Wn.passive),a=void 0)}function O(){let T=i(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(T=t.before().concat(T)),ga(t.after,T)}return va(()=>{s()}),xn(()=>{h()}),co(()=>{h()}),fo(()=>{S()}),On(()=>{S()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?_a({ref:o,class:"q-table__middle "+f.value},O()):b(or[e.type],{...n,ref:o,class:[n.class,f.value],...y.value},O)}}});const ir={xs:2,sm:4,md:6,lg:10,xl:14};function Jn(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var sr=ge({name:"QLinearProgress",props:{...Qe,...vo,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=Ee(),a=Xe(e,n.$q),o=go(e,ir),r=g(()=>e.indeterminate===!0||e.query===!0),l=g(()=>e.reverse!==e.query),s=g(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),i=g(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),c=g(()=>Jn(e.buffer!==void 0?e.buffer:1,l.value,n.$q)),u=g(()=>`with${e.instantFeedback===!0?"out":""}-transition`),f=g(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),y=g(()=>Jn(r.value===!0?1:e.value,l.value,n.$q)),p=g(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${r.value===!0?"in":""}determinate`),v=g(()=>({width:`${e.value*100}%`})),h=g(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const S=[b("div",{class:f.value,style:c.value}),b("div",{class:p.value,style:y.value})];return e.stripe===!0&&r.value===!1&&S.push(b("div",{class:h.value,style:v.value})),b("div",{class:i.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},ga(t.default,S))}}});let ot=0;const ur={fullscreen:Boolean,noRouteFullscreenExit:Boolean},cr=["update:fullscreen","fullscreen"];function dr(){const e=Ee(),{props:t,emit:n,proxy:a}=e;let o,r,l;const s=xe(!1);ho(e)===!0&&ie(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),ie(()=>t.fullscreen,f=>{s.value!==f&&i()}),ie(s,f=>{n("update:fullscreen",f),n("fullscreen",f)});function i(){s.value===!0?u():c()}function c(){s.value!==!0&&(s.value=!0,l=a.$el.parentNode,l.replaceChild(r,a.$el),document.body.appendChild(a.$el),ot++,ot===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:u},Gn.add(o))}function u(){s.value===!0&&(o!==void 0&&(Gn.remove(o),o=void 0),l.replaceChild(a.$el,r),s.value=!1,ot=Math.max(0,ot-1),ot===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return va(()=>{r=document.createElement("span")}),xn(()=>{t.fullscreen===!0&&c()}),On(u),Object.assign(a,{toggleFullscreen:i,setFullscreen:c,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:i}}function fr(e,t){return new Date(e)-new Date(t)}const vr={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function gr(e,t,n,a){const o=g(()=>{const{sortBy:s}=t.value;return s&&n.value.find(i=>i.name===s)||null}),r=g(()=>e.sortMethod!==void 0?e.sortMethod:(s,i,c)=>{const u=n.value.find(p=>p.name===i);if(u===void 0||u.field===void 0)return s;const f=c===!0?-1:1,y=typeof u.field=="function"?p=>u.field(p):p=>p[u.field];return s.sort((p,v)=>{let h=y(p),S=y(v);return u.rawSort!==void 0?u.rawSort(h,S,p,v)*f:h==null?-1*f:S==null?1*f:u.sort!==void 0?u.sort(h,S,p,v)*f:yn(h)===!0&&yn(S)===!0?(h-S)*f:Kn(h)===!0&&Kn(S)===!0?fr(h,S)*f:typeof h=="boolean"&&typeof S=="boolean"?(h-S)*f:([h,S]=[h,S].map(O=>(O+"").toLocaleString().toLowerCase()),h<S?-1*f:h===S?0:f)})});function l(s){let i=e.columnSortOrder;if(mo(s)===!0)s.sortOrder&&(i=s.sortOrder),s=s.name;else{const f=n.value.find(y=>y.name===s);f!==void 0&&f.sortOrder&&(i=f.sortOrder)}let{sortBy:c,descending:u}=t.value;c!==s?(c=s,u=i==="da"):e.binaryStateSort===!0?u=!u:u===!0?i==="ad"?c=null:u=!1:i==="ad"?u=!0:c=null,a({sortBy:c,descending:u,page:1})}return{columnToSort:o,computedSortMethod:r,sort:l}}const hr={filter:[String,Object],filterMethod:Function};function mr(e,t){const n=g(()=>e.filterMethod!==void 0?e.filterMethod:(a,o,r,l)=>{const s=o?o.toLowerCase():"";return a.filter(i=>r.some(c=>{const u=l(c,i)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(s)!==-1}))});return ie(()=>e.filter,()=>{qn(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function pr(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function ea(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const br={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function yr(e,t){const{props:n,emit:a}=e,o=xe(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),r=g(()=>{const u=n["onUpdate:pagination"]!==void 0?{...o.value,...n.pagination}:o.value;return ea(u)}),l=g(()=>r.value.rowsNumber!==void 0);function s(u){i({pagination:u,filter:n.filter})}function i(u={}){qn(()=>{a("request",{pagination:u.pagination||r.value,filter:u.filter||n.filter,getCellValue:t})})}function c(u,f){const y=ea({...r.value,...u});if(pr(r.value,y)===!0){l.value===!0&&f===!0&&s(y);return}if(l.value===!0){s(y);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?a("update:pagination",y):o.value=y}return{innerPagination:o,computedPagination:r,isServerSide:l,requestServerInteraction:i,setPagination:c}}function Sr(e,t,n,a,o,r){const{props:l,emit:s,proxy:{$q:i}}=e,c=g(()=>a.value===!0?n.value.rowsNumber||0:r.value),u=g(()=>{const{page:N,rowsPerPage:M}=n.value;return(N-1)*M}),f=g(()=>{const{page:N,rowsPerPage:M}=n.value;return N*M}),y=g(()=>n.value.page===1),p=g(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(c.value/n.value.rowsPerPage))),v=g(()=>f.value===0?!0:n.value.page>=p.value),h=g(()=>(l.rowsPerPageOptions.includes(t.value.rowsPerPage)?l.rowsPerPageOptions:[t.value.rowsPerPage].concat(l.rowsPerPageOptions)).map(M=>({label:M===0?i.lang.table.allRows:""+M,value:M})));ie(p,(N,M)=>{if(N===M)return;const W=n.value.page;N&&!W?o({page:1}):N<W&&o({page:N})});function S(){o({page:1})}function O(){const{page:N}=n.value;N>1&&o({page:N-1})}function T(){const{page:N,rowsPerPage:M}=n.value;f.value>0&&N*M<c.value&&o({page:N+1})}function F(){o({page:p.value})}return l["onUpdate:pagination"]!==void 0&&s("update:pagination",{...n.value}),{firstRowIndex:u,lastRowIndex:f,isFirstPage:y,isLastPage:v,pagesNumber:p,computedRowsPerPageOptions:h,computedRowsNumber:c,firstPage:S,prevPage:O,nextPage:T,lastPage:F}}const _r={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},wr=["update:selected","selection"];function Er(e,t,n,a){const o=g(()=>{const v={};return e.selected.map(a.value).forEach(h=>{v[h]=!0}),v}),r=g(()=>e.selection!=="none"),l=g(()=>e.selection==="single"),s=g(()=>e.selection==="multiple"),i=g(()=>n.value.length!==0&&n.value.every(v=>o.value[a.value(v)]===!0)),c=g(()=>i.value!==!0&&n.value.some(v=>o.value[a.value(v)]===!0)),u=g(()=>e.selected.length);function f(v){return o.value[v]===!0}function y(){t("update:selected",[])}function p(v,h,S,O){t("selection",{rows:h,added:S,keys:v,evt:O});const T=l.value===!0?S===!0?h:[]:S===!0?e.selected.concat(h):e.selected.filter(F=>v.includes(a.value(F))===!1);t("update:selected",T)}return{hasSelectionMode:r,singleSelection:l,multipleSelection:s,allRowsSelected:i,someRowsSelected:c,rowsSelectedNumber:u,isRowSelected:f,clearSelection:y,updateSelection:p}}function ta(e){return Array.isArray(e)?e.slice():[]}const Cr={expanded:Array},Dr=["update:expanded"];function Pr(e,t){const n=xe(ta(e.expanded));ie(()=>e.expanded,l=>{n.value=ta(l)});function a(l){return n.value.includes(l)}function o(l){e.expanded!==void 0?t("update:expanded",l):n.value=l}function r(l,s){const i=n.value.slice(),c=i.indexOf(l);s===!0?c===-1&&(i.push(l),o(i)):c!==-1&&(i.splice(c,1),o(i))}return{isRowExpanded:a,setExpanded:o,updateExpanded:r}}const Tr={visibleColumns:Array};function xr(e,t,n){const a=g(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(i=>({name:i,label:i.toUpperCase(),field:i,align:yn(s[i])?"right":"left",sortable:!0})):[]}),o=g(()=>{const{sortBy:s,descending:i}=t.value;return(e.visibleColumns!==void 0?a.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):a.value).map(u=>{const f=u.align||"right",y=`text-${f}`;return{...u,align:f,__iconClass:`q-table__sort-icon q-table__sort-icon--${f}`,__thClass:y+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===s?` sorted ${i===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>y+" "+u.classes:p=>y+" "+u.classes(p):()=>y}})}),r=g(()=>{const s={};return o.value.forEach(i=>{s[i.name]=i}),s}),l=g(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(n.value===!0?1:0));return{colList:a,computedCols:o,computedColsMap:r,computedColspan:l}}const Ot="q-table__bottom row items-center",wa={};pa.forEach(e=>{wa[e]={}});var Or=ge({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...wa,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Qe,...ur,...Tr,...hr,...br,...Cr,..._r,...vr},emits:["request","virtualScroll",...cr,...Dr,...wr],setup(e,{slots:t,emit:n}){const a=Ee(),{proxy:{$q:o}}=a,r=Xe(e,o),{inFullscreen:l,toggleFullscreen:s}=dr(),i=g(()=>typeof e.rowKey=="function"?e.rowKey:d=>d[e.rowKey]),c=xe(null),u=xe(null),f=g(()=>e.grid!==!0&&e.virtualScroll===!0),y=g(()=>" q-table__card"+(r.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),p=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":y.value)+(r.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(l.value===!0?" fullscreen scroll":"")),v=g(()=>p.value+(e.loading===!0?" q-table--loading":""));ie(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+p.value,()=>{f.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:h,computedPagination:S,isServerSide:O,requestServerInteraction:T,setPagination:F}=yr(a,Ye),{computedFilterMethod:N}=mr(e,F),{isRowExpanded:M,setExpanded:W,updateExpanded:he}=Pr(e,n),ne=g(()=>{let d=e.rows;if(O.value===!0||d.length===0)return d;const{sortBy:_,descending:D}=S.value;return e.filter&&(d=N.value(d,e.filter,fe.value,Ye)),$a.value!==null&&(d=La.value(e.rows===d?d.slice():d,_,D)),d}),U=g(()=>ne.value.length),ee=g(()=>{let d=ne.value;if(O.value===!0)return d;const{rowsPerPage:_}=S.value;return _!==0&&(St.value===0&&e.rows!==d?d.length>_t.value&&(d=d.slice(0,_t.value)):d=d.slice(St.value,_t.value)),d}),{hasSelectionMode:G,singleSelection:K,multipleSelection:C,allRowsSelected:x,someRowsSelected:oe,rowsSelectedNumber:Q,isRowSelected:me,clearSelection:se,updateSelection:Z}=Er(e,n,ee,i),{colList:Ln,computedCols:fe,computedColsMap:yt,computedColspan:Vn}=xr(e,S,G),{columnToSort:$a,computedSortMethod:La,sort:Ut}=gr(e,S,Ln,F),{firstRowIndex:St,lastRowIndex:_t,isFirstPage:Wt,isLastPage:Gt,pagesNumber:wt,computedRowsPerPageOptions:Va,computedRowsNumber:Et,firstPage:Kt,prevPage:Zt,nextPage:Jt,lastPage:en}=Sr(a,h,S,O,F,U),za=g(()=>ee.value.length===0),ja=g(()=>{const d={};return pa.forEach(_=>{d[_]=e[_]}),d.virtualScrollItemSize===void 0&&(d.virtualScrollItemSize=e.dense===!0?28:48),d});function Ha(){f.value===!0&&u.value.reset()}function Qa(){if(e.grid===!0)return ao();const d=e.hideHeader!==!0?Xn:null;if(f.value===!0){const D=t["top-row"],q=t["bottom-row"],B={default:H=>jn(H.item,t.body,H.index)};if(D!==void 0){const H=b("tbody",D({cols:fe.value}));B.before=d===null?()=>H:()=>[d()].concat(H)}else d!==null&&(B.before=d);return q!==void 0&&(B.after=()=>b("tbody",q({cols:fe.value}))),b(lr,{ref:u,class:e.tableClass,style:e.tableStyle,...ja.value,scrollTarget:e.virtualScrollTarget,items:ee.value,type:"__qtable",tableColspan:Vn.value,onVirtualScroll:Ya},B)}const _=[Ua()];return d!==null&&_.unshift(d()),_a({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},_)}function Xa(d,_){if(u.value!==null){u.value.scrollTo(d,_);return}d=parseInt(d,10);const D=c.value.querySelector(`tbody tr:nth-of-type(${d+1})`);if(D!==null){const q=c.value.querySelector(".q-table__middle.scroll"),B=D.offsetTop-e.virtualScrollStickySizeStart,H=B<q.scrollTop?"decrease":"increase";q.scrollTop=B,n("virtualScroll",{index:d,from:0,to:h.value.rowsPerPage-1,direction:H})}}function Ya(d){n("virtualScroll",d)}function zn(){return[b(sr,{class:"q-table__linear-progress",color:e.color,dark:r.value,indeterminate:!0,trackColor:"transparent"})]}function jn(d,_,D){const q=i.value(d),B=me(q);if(_!==void 0)return _(Hn({key:q,row:d,pageIndex:D,__trClass:B?"selected":""}));const H=t["body-cell"],z=fe.value.map(re=>{const Dt=t[`body-cell-${re.name}`],Pt=Dt!==void 0?Dt:H;return Pt!==void 0?Pt(Wa({key:q,row:d,pageIndex:D,col:re})):b("td",{class:re.__tdClass(d),style:re.__tdStyle(d)},Ye(re,d))});if(G.value===!0){const re=t["body-selection"],Dt=re!==void 0?re(Ga({key:q,row:d,pageIndex:D})):[b(sn,{modelValue:B,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(Pt,oo)=>{Z([q],[d],Pt,oo)}})];z.unshift(b("td",{class:"q-table--col-auto-width"},Dt))}const Ce={key:q,class:{selected:B}};return e.onRowClick!==void 0&&(Ce.class["cursor-pointer"]=!0,Ce.onClick=re=>{n("RowClick",re,d,D)}),e.onRowDblclick!==void 0&&(Ce.class["cursor-pointer"]=!0,Ce.onDblclick=re=>{n("RowDblclick",re,d,D)}),e.onRowContextmenu!==void 0&&(Ce.class["cursor-pointer"]=!0,Ce.onContextmenu=re=>{n("RowContextmenu",re,d,D)}),b("tr",Ce,z)}function Ua(){const d=t.body,_=t["top-row"],D=t["bottom-row"];let q=ee.value.map((B,H)=>jn(B,d,H));return _!==void 0&&(q=_({cols:fe.value}).concat(q)),D!==void 0&&(q=q.concat(D({cols:fe.value}))),b("tbody",q)}function Hn(d){return tn(d),d.cols=d.cols.map(_=>at({..._},"value",()=>Ye(_,d.row))),d}function Wa(d){return tn(d),at(d,"value",()=>Ye(d.col,d.row)),d}function Ga(d){return tn(d),d}function tn(d){Object.assign(d,{cols:fe.value,colsMap:yt.value,sort:Ut,rowIndex:St.value+d.pageIndex,color:e.color,dark:r.value,dense:e.dense}),G.value===!0&&at(d,"selected",()=>me(d.key),(_,D)=>{Z([d.key],[d.row],_,D)}),at(d,"expand",()=>M(d.key),_=>{he(d.key,_)})}function Ye(d,_){const D=typeof d.field=="function"?d.field(_):_[d.field];return d.format!==void 0?d.format(D,_):D}const Ue=g(()=>({pagination:S.value,pagesNumber:wt.value,isFirstPage:Wt.value,isLastPage:Gt.value,firstPage:Kt,prevPage:Zt,nextPage:Jt,lastPage:en,inFullscreen:l.value,toggleFullscreen:s}));function Ka(){const d=t.top,_=t["top-left"],D=t["top-right"],q=t["top-selection"],B=G.value===!0&&q!==void 0&&Q.value>0,H="q-table__top relative-position row items-center";if(d!==void 0)return b("div",{class:H},[d(Ue.value)]);let z;if(B===!0?z=q(Ue.value).slice():(z=[],_!==void 0?z.push(b("div",{class:"q-table__control"},[_(Ue.value)])):e.title&&z.push(b("div",{class:"q-table__control"},[b("div",{class:["q-table__title",e.titleClass]},e.title)]))),D!==void 0&&(z.push(b("div",{class:"q-table__separator col"})),z.push(b("div",{class:"q-table__control"},[D(Ue.value)]))),z.length!==0)return b("div",{class:H},z)}const Qn=g(()=>oe.value===!0?null:x.value);function Xn(){const d=Za();return e.loading===!0&&t.loading===void 0&&d.push(b("tr",{class:"q-table__progress"},[b("th",{class:"relative-position",colspan:Vn.value},zn())])),b("thead",d)}function Za(){const d=t.header,_=t["header-cell"];if(d!==void 0)return d(nn({header:!0})).slice();const D=fe.value.map(q=>{const B=t[`header-cell-${q.name}`],H=B!==void 0?B:_,z=nn({col:q});return H!==void 0?H(z):b(Jo,{key:q.name,props:z},()=>q.label)});if(K.value===!0&&e.grid!==!0)D.unshift(b("th",{class:"q-table--col-auto-width"}," "));else if(C.value===!0){const q=t["header-selection"],B=q!==void 0?q(nn({})):[b(sn,{color:e.color,modelValue:Qn.value,dark:r.value,dense:e.dense,"onUpdate:modelValue":Yn})];D.unshift(b("th",{class:"q-table--col-auto-width"},B))}return[b("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},D)]}function nn(d){return Object.assign(d,{cols:fe.value,sort:Ut,colsMap:yt.value,color:e.color,dark:r.value,dense:e.dense}),C.value===!0&&at(d,"selected",()=>Qn.value,Yn),d}function Yn(d){oe.value===!0&&(d=!1),Z(ee.value.map(i.value),ee.value,d)}const Ct=g(()=>{const d=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?d.reverse():d});function Ja(){if(e.hideBottom===!0)return;if(za.value===!0){if(e.hideNoData===!0)return;const D=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,q=t["no-data"],B=q!==void 0?[q({message:D,icon:o.iconSet.table.warning,filter:e.filter})]:[b(Tn,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),D];return b("div",{class:Ot+" q-table__bottom--nodata"},B)}const d=t.bottom;if(d!==void 0)return b("div",{class:Ot},[d(Ue.value)]);const _=e.hideSelectedBanner!==!0&&G.value===!0&&Q.value>0?[b("div",{class:"q-table__control"},[b("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(Q.value)])])]:[];if(e.hidePagination!==!0)return b("div",{class:Ot+" justify-end"},to(_));if(_.length!==0)return b("div",{class:Ot},_)}function eo(d){F({page:1,rowsPerPage:d.value})}function to(d){let _;const{rowsPerPage:D}=S.value,q=e.paginationLabel||o.lang.table.pagination,B=t.pagination,H=e.rowsPerPageOptions.length>1;if(d.push(b("div",{class:"q-table__separator col"})),H===!0&&d.push(b("div",{class:"q-table__control"},[b("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),b(Ho,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:D,options:Va.value,displayValue:D===0?o.lang.table.allRows:D,dark:r.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":eo})])),B!==void 0)_=B(Ue.value);else if(_=[b("span",D!==0?{class:"q-table__bottom-item"}:{},[D?q(St.value+1,Math.min(_t.value,Et.value),Et.value):q(1,U.value,Et.value)])],D!==0&&wt.value>1){const z={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(z.size="sm"),wt.value>2&&_.push(b(Ve,{key:"pgFirst",...z,icon:Ct.value[0],disable:Wt.value,onClick:Kt})),_.push(b(Ve,{key:"pgPrev",...z,icon:Ct.value[1],disable:Wt.value,onClick:Zt}),b(Ve,{key:"pgNext",...z,icon:Ct.value[2],disable:Gt.value,onClick:Jt})),wt.value>2&&_.push(b(Ve,{key:"pgLast",...z,icon:Ct.value[3],disable:Gt.value,onClick:en}))}return d.push(b("div",{class:"q-table__control"},_)),d}function no(){const d=e.gridHeader===!0?[b("table",{class:"q-table"},[Xn()])]:e.loading===!0&&t.loading===void 0?zn():void 0;return b("div",{class:"q-table__middle"},d)}function ao(){const d=t.item!==void 0?t.item:_=>{const D=_.cols.map(B=>b("div",{class:"q-table__grid-item-row"},[b("div",{class:"q-table__grid-item-title"},[B.label]),b("div",{class:"q-table__grid-item-value"},[B.value])]));if(G.value===!0){const B=t["body-selection"],H=B!==void 0?B(_):[b(sn,{modelValue:_.selected,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(z,Ce)=>{Z([_.key],[_.row],z,Ce)}})];D.unshift(b("div",{class:"q-table__grid-item-row"},H),b(tr,{dark:r.value}))}const q={class:["q-table__grid-item-card"+y.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(q.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(q.onClick=B=>{n("RowClick",B,_.row,_.pageIndex)}),e.onRowDblclick!==void 0&&(q.onDblclick=B=>{n("RowDblclick",B,_.row,_.pageIndex)})),b("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(_.selected===!0?" q-table__grid-item--selected":"")},[b("div",q,D)])};return b("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},ee.value.map((_,D)=>d(Hn({key:i.value(_),row:_,pageIndex:D}))))}return Object.assign(a.proxy,{requestServerInteraction:T,setPagination:F,firstPage:Kt,prevPage:Zt,nextPage:Jt,lastPage:en,isRowSelected:me,clearSelection:se,isRowExpanded:M,setExpanded:W,sort:Ut,resetVirtualScroll:Ha,scrollTo:Xa,getCellValue:Ye}),po(a.proxy,{filteredSortedRows:()=>ne.value,computedRows:()=>ee.value,computedRowsNumber:()=>Et.value}),()=>{const d=[Ka()],_={ref:c,class:v.value};return e.grid===!0?d.push(no()):Object.assign(_,{class:[_.class,e.cardClass],style:e.cardStyle}),d.push(Qa(),Ja()),e.loading===!0&&t.loading!==void 0&&d.push(t.loading()),b("div",_,d)}}});/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?na(Object(n),!0).forEach(function(a){qr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function It(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?It=function(t){return typeof t}:It=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qe.apply(this,arguments)}function Nr(e,t){if(e==null)return{};var n={},a=Object.keys(e),o,r;for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function kr(e,t){if(e==null)return{};var n=Nr(e,t),a,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(n[a]=e[a]))}return n}var Br="1.15.2";function Te(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var Ne=Te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),pt=Te(/Edge/i),aa=Te(/firefox/i),ut=Te(/safari/i)&&!Te(/chrome/i)&&!Te(/android/i),Ea=Te(/iP(ad|od|hone)/i),Ca=Te(/chrome/i)&&Te(/android/i),Da={capture:!1,passive:!1};function R(e,t,n){e.addEventListener(t,n,!Ne&&Da)}function A(e,t,n){e.removeEventListener(t,n,!Ne&&Da)}function Vt(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Ar(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function be(e,t,n,a){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Vt(e,t):Vt(e,t))||a&&e===n)return e;if(e===n)break}while(e=Ar(e))}return null}var oa=/\s+/g;function ue(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(oa," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(oa," ")}}function w(e,t,n){var a=e&&e.style;if(a){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in a)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),a[t]=n+(typeof n=="string"?"":"px")}}function et(e,t){var n="";if(typeof e=="string")n=e;else do{var a=w(e,"transform");a&&a!=="none"&&(n=a+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Pa(e,t,n){if(e){var a=e.getElementsByTagName(t),o=0,r=a.length;if(n)for(;o<r;o++)n(a[o],o);return a}return[]}function _e(){var e=document.scrollingElement;return e||document.documentElement}function Y(e,t,n,a,o){if(!(!e.getBoundingClientRect&&e!==window)){var r,l,s,i,c,u,f;if(e!==window&&e.parentNode&&e!==_e()?(r=e.getBoundingClientRect(),l=r.top,s=r.left,i=r.bottom,c=r.right,u=r.height,f=r.width):(l=0,s=0,i=window.innerHeight,c=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Ne))do if(o&&o.getBoundingClientRect&&(w(o,"transform")!=="none"||n&&w(o,"position")!=="static")){var y=o.getBoundingClientRect();l-=y.top+parseInt(w(o,"border-top-width")),s-=y.left+parseInt(w(o,"border-left-width")),i=l+r.height,c=s+r.width;break}while(o=o.parentNode);if(a&&e!==window){var p=et(o||e),v=p&&p.a,h=p&&p.d;p&&(l/=h,s/=v,f/=v,u/=h,i=l+u,c=s+f)}return{top:l,left:s,bottom:i,right:c,width:f,height:u}}}function ra(e,t,n){for(var a=Ie(e,!0),o=Y(e)[t];a;){var r=Y(a)[n],l=void 0;if(n==="top"||n==="left"?l=o>=r:l=o<=r,!l)return a;if(a===_e())break;a=Ie(a,!1)}return!1}function tt(e,t,n,a){for(var o=0,r=0,l=e.children;r<l.length;){if(l[r].style.display!=="none"&&l[r]!==E.ghost&&(a||l[r]!==E.dragged)&&be(l[r],n.draggable,e,!1)){if(o===t)return l[r];o++}r++}return null}function Rn(e,t){for(var n=e.lastElementChild;n&&(n===E.ghost||w(n,"display")==="none"||t&&!Vt(n,t));)n=n.previousElementSibling;return n||null}function ve(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==E.clone&&(!t||Vt(e,t))&&n++;return n}function la(e){var t=0,n=0,a=_e();if(e)do{var o=et(e),r=o.a,l=o.d;t+=e.scrollLeft*r,n+=e.scrollTop*l}while(e!==a&&(e=e.parentNode));return[t,n]}function Rr(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[n][a])return Number(n)}return-1}function Ie(e,t){if(!e||!e.getBoundingClientRect)return _e();var n=e,a=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=w(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return _e();if(a||t)return n;a=!0}}while(n=n.parentNode);return _e()}function Ir(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function cn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ct;function Ta(e,t){return function(){if(!ct){var n=arguments,a=this;n.length===1?e.call(a,n[0]):e.apply(a,n),ct=setTimeout(function(){ct=void 0},t)}}}function Fr(){clearTimeout(ct),ct=void 0}function xa(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Oa(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function qa(e,t,n){var a={};return Array.from(e.children).forEach(function(o){var r,l,s,i;if(!(!be(o,t.draggable,e,!1)||o.animated||o===n)){var c=Y(o);a.left=Math.min((r=a.left)!==null&&r!==void 0?r:1/0,c.left),a.top=Math.min((l=a.top)!==null&&l!==void 0?l:1/0,c.top),a.right=Math.max((s=a.right)!==null&&s!==void 0?s:-1/0,c.right),a.bottom=Math.max((i=a.bottom)!==null&&i!==void 0?i:-1/0,c.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var de="Sortable"+new Date().getTime();function Mr(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(w(o,"display")==="none"||o===E.ghost)){e.push({target:o,rect:Y(o)});var r=we({},e[e.length-1].rect);if(o.thisAnimationDuration){var l=et(o,!0);l&&(r.top-=l.f,r.left-=l.e)}o.fromRect=r}})}},addAnimationState:function(a){e.push(a)},removeAnimationState:function(a){e.splice(Rr(e,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(t),typeof a=="function"&&a();return}var r=!1,l=0;e.forEach(function(s){var i=0,c=s.target,u=c.fromRect,f=Y(c),y=c.prevFromRect,p=c.prevToRect,v=s.rect,h=et(c,!0);h&&(f.top-=h.f,f.left-=h.e),c.toRect=f,c.thisAnimationDuration&&cn(y,f)&&!cn(u,f)&&(v.top-f.top)/(v.left-f.left)===(u.top-f.top)/(u.left-f.left)&&(i=Lr(v,y,p,o.options)),cn(f,u)||(c.prevFromRect=u,c.prevToRect=f,i||(i=o.options.animation),o.animate(c,v,f,i)),i&&(r=!0,l=Math.max(l,i),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},i),c.thisAnimationDuration=i)}),clearTimeout(t),r?t=setTimeout(function(){typeof a=="function"&&a()},l):typeof a=="function"&&a(),e=[]},animate:function(a,o,r,l){if(l){w(a,"transition",""),w(a,"transform","");var s=et(this.el),i=s&&s.a,c=s&&s.d,u=(o.left-r.left)/(i||1),f=(o.top-r.top)/(c||1);a.animatingX=!!u,a.animatingY=!!f,w(a,"transform","translate3d("+u+"px,"+f+"px,0)"),this.forRepaintDummy=$r(a),w(a,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),w(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){w(a,"transition",""),w(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},l)}}}}function $r(e){return e.offsetWidth}function Lr(e,t,n,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*a.animation}var We=[],dn={initializeByDefault:!0},bt={mount:function(t){for(var n in dn)dn.hasOwnProperty(n)&&!(n in t)&&(t[n]=dn[n]);We.forEach(function(a){if(a.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),We.push(t)},pluginEvent:function(t,n,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var r=t+"Global";We.forEach(function(l){!n[l.pluginName]||(n[l.pluginName][r]&&n[l.pluginName][r](we({sortable:n},a)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](we({sortable:n},a)))})},initializePlugins:function(t,n,a,o){We.forEach(function(s){var i=s.pluginName;if(!(!t.options[i]&&!s.initializeByDefault)){var c=new s(t,n,t.options);c.sortable=t,c.options=t.options,t[i]=c,qe(a,c.defaults)}});for(var r in t.options)if(!!t.options.hasOwnProperty(r)){var l=this.modifyOption(t,r,t.options[r]);typeof l!="undefined"&&(t.options[r]=l)}},getEventProperties:function(t,n){var a={};return We.forEach(function(o){typeof o.eventProperties=="function"&&qe(a,o.eventProperties.call(n[o.pluginName],t))}),a},modifyOption:function(t,n,a){var o;return We.forEach(function(r){!t[r.pluginName]||r.optionListeners&&typeof r.optionListeners[n]=="function"&&(o=r.optionListeners[n].call(t[r.pluginName],a))}),o}};function Vr(e){var t=e.sortable,n=e.rootEl,a=e.name,o=e.targetEl,r=e.cloneEl,l=e.toEl,s=e.fromEl,i=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,f=e.newDraggableIndex,y=e.originalEvent,p=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[de],!!t){var h,S=t.options,O="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Ne&&!pt?h=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(a,!0,!0)),h.to=l||n,h.from=s||n,h.item=o||n,h.clone=r,h.oldIndex=i,h.newIndex=c,h.oldDraggableIndex=u,h.newDraggableIndex=f,h.originalEvent=y,h.pullMode=p?p.lastPutMode:void 0;var T=we(we({},v),bt.getEventProperties(a,t));for(var F in T)h[F]=T[F];n&&n.dispatchEvent(h),S[O]&&S[O].call(t,h)}}var zr=["evt"],le=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,r=kr(a,zr);bt.pluginEvent.bind(E)(t,n,we({dragEl:m,parentEl:j,ghostEl:P,rootEl:$,nextEl:Le,lastDownEl:Ft,cloneEl:V,cloneHidden:Re,dragStarted:lt,putSortable:J,activeSortable:E.active,originalEvent:o,oldIndex:Je,oldDraggableIndex:dt,newIndex:ce,newDraggableIndex:Be,hideGhostForTarget:Aa,unhideGhostForTarget:Ra,cloneNowHidden:function(){Re=!0},cloneNowShown:function(){Re=!1},dispatchSortableEvent:function(s){ae({sortable:n,name:s,originalEvent:o})}},r))};function ae(e){Vr(we({putSortable:J,cloneEl:V,targetEl:m,rootEl:$,oldIndex:Je,oldDraggableIndex:dt,newIndex:ce,newDraggableIndex:Be},e))}var m,j,P,$,Le,Ft,V,Re,Je,ce,dt,Be,qt,J,Ze=!1,zt=!1,jt=[],Me,pe,fn,vn,ia,sa,lt,Ge,ft,vt=!1,Nt=!1,Mt,te,gn=[],wn=!1,Ht=[],Yt=typeof document!="undefined",kt=Ea,ua=pt||Ne?"cssFloat":"float",jr=Yt&&!Ca&&!Ea&&"draggable"in document.createElement("div"),Na=function(){if(!!Yt){if(Ne)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ka=function(t,n){var a=w(t),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),r=tt(t,0,n),l=tt(t,1,n),s=r&&w(r),i=l&&w(l),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Y(r).width,u=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Y(l).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return l&&(i.clear==="both"||i.clear===f)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=o&&a[ua]==="none"||l&&a[ua]==="none"&&c+u>o)?"vertical":"horizontal"},Hr=function(t,n,a){var o=a?t.left:t.top,r=a?t.right:t.bottom,l=a?t.width:t.height,s=a?n.left:n.top,i=a?n.right:n.bottom,c=a?n.width:n.height;return o===s||r===i||o+l/2===s+c/2},Qr=function(t,n){var a;return jt.some(function(o){var r=o[de].options.emptyInsertThreshold;if(!(!r||Rn(o))){var l=Y(o),s=t>=l.left-r&&t<=l.right+r,i=n>=l.top-r&&n<=l.bottom+r;if(s&&i)return a=o}}),a},Ba=function(t){function n(r,l){return function(s,i,c,u){var f=s.options.group.name&&i.options.group.name&&s.options.group.name===i.options.group.name;if(r==null&&(l||f))return!0;if(r==null||r===!1)return!1;if(l&&r==="clone")return r;if(typeof r=="function")return n(r(s,i,c,u),l)(s,i,c,u);var y=(l?s:i).options.group.name;return r===!0||typeof r=="string"&&r===y||r.join&&r.indexOf(y)>-1}}var a={},o=t.group;(!o||It(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=n(o.pull,!0),a.checkPut=n(o.put),a.revertClone=o.revertClone,t.group=a},Aa=function(){!Na&&P&&w(P,"display","none")},Ra=function(){!Na&&P&&w(P,"display","")};Yt&&!Ca&&document.addEventListener("click",function(e){if(zt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),zt=!1,!1},!0);var $e=function(t){if(m){t=t.touches?t.touches[0]:t;var n=Qr(t.clientX,t.clientY);if(n){var a={};for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);a.target=a.rootEl=n,a.preventDefault=void 0,a.stopPropagation=void 0,n[de]._onDragOver(a)}}},Xr=function(t){m&&m.parentNode[de]._isOutsideThisEl(t.target)};function E(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=qe({},t),e[de]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ka(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&!ut,emptyInsertThreshold:5};bt.initializePlugins(this,e,n);for(var a in n)!(a in t)&&(t[a]=n[a]);Ba(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:jr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?R(e,"pointerdown",this._onTapStart):(R(e,"mousedown",this._onTapStart),R(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(R(e,"dragover",this),R(e,"dragenter",this)),jt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),qe(this,Mr())}E.prototype={constructor:E,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ge=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,m):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,a=this.el,o=this.options,r=o.preventOnFilter,l=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,i=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||i,u=o.filter;if(el(a),!m&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ut&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=be(i,o.draggable,a,!1),!(i&&i.animated)&&Ft!==i)){if(Je=ve(i),dt=ve(i,o.draggable),typeof u=="function"){if(u.call(this,t,i,this)){ae({sortable:n,rootEl:c,name:"filter",targetEl:i,toEl:a,fromEl:a}),le("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=be(c,f.trim(),a,!1),f)return ae({sortable:n,rootEl:f,name:"filter",targetEl:i,fromEl:a,toEl:a}),le("filter",n,{evt:t}),!0}),u)){r&&t.cancelable&&t.preventDefault();return}o.handle&&!be(c,o.handle,a,!1)||this._prepareDragStart(t,s,i)}}},_prepareDragStart:function(t,n,a){var o=this,r=o.el,l=o.options,s=r.ownerDocument,i;if(a&&!m&&a.parentNode===r){var c=Y(a);if($=r,m=a,j=m.parentNode,Le=m.nextSibling,Ft=a,qt=l.group,E.dragged=m,Me={target:m,clientX:(n||t).clientX,clientY:(n||t).clientY},ia=Me.clientX-c.left,sa=Me.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,m.style["will-change"]="all",i=function(){if(le("delayEnded",o,{evt:t}),E.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!aa&&o.nativeDraggable&&(m.draggable=!0),o._triggerDragStart(t,n),ae({sortable:o,name:"choose",originalEvent:t}),ue(m,l.chosenClass,!0)},l.ignore.split(",").forEach(function(u){Pa(m,u.trim(),hn)}),R(s,"dragover",$e),R(s,"mousemove",$e),R(s,"touchmove",$e),R(s,"mouseup",o._onDrop),R(s,"touchend",o._onDrop),R(s,"touchcancel",o._onDrop),aa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),le("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(pt||Ne))){if(E.eventCanceled){this._onDrop();return}R(s,"mouseup",o._disableDelayedDrag),R(s,"touchend",o._disableDelayedDrag),R(s,"touchcancel",o._disableDelayedDrag),R(s,"mousemove",o._delayedDragTouchMoveHandler),R(s,"touchmove",o._delayedDragTouchMoveHandler),l.supportPointer&&R(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,l.delay)}else i()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&hn(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;A(t,"mouseup",this._disableDelayedDrag),A(t,"touchend",this._disableDelayedDrag),A(t,"touchcancel",this._disableDelayedDrag),A(t,"mousemove",this._delayedDragTouchMoveHandler),A(t,"touchmove",this._delayedDragTouchMoveHandler),A(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?R(document,"pointermove",this._onTouchMove):n?R(document,"touchmove",this._onTouchMove):R(document,"mousemove",this._onTouchMove):(R(m,"dragend",this),R($,"dragstart",this._onDragStart));try{document.selection?$t(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ze=!1,$&&m){le("dragStarted",this,{evt:n}),this.nativeDraggable&&R(document,"dragover",Xr);var a=this.options;!t&&ue(m,a.dragClass,!1),ue(m,a.ghostClass,!0),E.active=this,t&&this._appendGhost(),ae({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(pe){this._lastX=pe.clientX,this._lastY=pe.clientY,Aa();for(var t=document.elementFromPoint(pe.clientX,pe.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(pe.clientX,pe.clientY),t!==n);)n=t;if(m.parentNode[de]._isOutsideThisEl(t),n)do{if(n[de]){var a=void 0;if(a=n[de]._onDragOver({clientX:pe.clientX,clientY:pe.clientY,target:t,rootEl:n}),a&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Ra()}},_onTouchMove:function(t){if(Me){var n=this.options,a=n.fallbackTolerance,o=n.fallbackOffset,r=t.touches?t.touches[0]:t,l=P&&et(P,!0),s=P&&l&&l.a,i=P&&l&&l.d,c=kt&&te&&la(te),u=(r.clientX-Me.clientX+o.x)/(s||1)+(c?c[0]-gn[0]:0)/(s||1),f=(r.clientY-Me.clientY+o.y)/(i||1)+(c?c[1]-gn[1]:0)/(i||1);if(!E.active&&!Ze){if(a&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<a)return;this._onDragStart(t,!0)}if(P){l?(l.e+=u-(fn||0),l.f+=f-(vn||0)):l={a:1,b:0,c:0,d:1,e:u,f};var y="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");w(P,"webkitTransform",y),w(P,"mozTransform",y),w(P,"msTransform",y),w(P,"transform",y),fn=u,vn=f,pe=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!P){var t=this.options.fallbackOnBody?document.body:$,n=Y(m,!0,kt,!0,t),a=this.options;if(kt){for(te=t;w(te,"position")==="static"&&w(te,"transform")==="none"&&te!==document;)te=te.parentNode;te!==document.body&&te!==document.documentElement?(te===document&&(te=_e()),n.top+=te.scrollTop,n.left+=te.scrollLeft):te=_e(),gn=la(te)}P=m.cloneNode(!0),ue(P,a.ghostClass,!1),ue(P,a.fallbackClass,!0),ue(P,a.dragClass,!0),w(P,"transition",""),w(P,"transform",""),w(P,"box-sizing","border-box"),w(P,"margin",0),w(P,"top",n.top),w(P,"left",n.left),w(P,"width",n.width),w(P,"height",n.height),w(P,"opacity","0.8"),w(P,"position",kt?"absolute":"fixed"),w(P,"zIndex","100000"),w(P,"pointerEvents","none"),E.ghost=P,t.appendChild(P),w(P,"transform-origin",ia/parseInt(P.style.width)*100+"% "+sa/parseInt(P.style.height)*100+"%")}},_onDragStart:function(t,n){var a=this,o=t.dataTransfer,r=a.options;if(le("dragStart",this,{evt:t}),E.eventCanceled){this._onDrop();return}le("setupClone",this),E.eventCanceled||(V=Oa(m),V.removeAttribute("id"),V.draggable=!1,V.style["will-change"]="",this._hideClone(),ue(V,this.options.chosenClass,!1),E.clone=V),a.cloneId=$t(function(){le("clone",a),!E.eventCanceled&&(a.options.removeCloneOnHide||$.insertBefore(V,m),a._hideClone(),ae({sortable:a,name:"clone"}))}),!n&&ue(m,r.dragClass,!0),n?(zt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(A(document,"mouseup",a._onDrop),A(document,"touchend",a._onDrop),A(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(a,o,m)),R(document,"drop",a),w(m,"transform","translateZ(0)")),Ze=!0,a._dragStartId=$t(a._dragStarted.bind(a,n,t)),R(document,"selectstart",a),lt=!0,ut&&w(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,a=t.target,o,r,l,s=this.options,i=s.group,c=E.active,u=qt===i,f=s.sort,y=J||c,p,v=this,h=!1;if(wn)return;function S(se,Z){le(se,v,we({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:l,dragRect:o,targetRect:r,canSort:f,fromSortable:y,target:a,completed:T,onMove:function(fe,yt){return Bt($,n,m,o,fe,Y(fe),t,yt)},changed:F},Z))}function O(){S("dragOverAnimationCapture"),v.captureAnimationState(),v!==y&&y.captureAnimationState()}function T(se){return S("dragOverCompleted",{insertion:se}),se&&(u?c._hideClone():c._showClone(v),v!==y&&(ue(m,J?J.options.ghostClass:c.options.ghostClass,!1),ue(m,s.ghostClass,!0)),J!==v&&v!==E.active?J=v:v===E.active&&J&&(J=null),y===v&&(v._ignoreWhileAnimating=a),v.animateAll(function(){S("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(a===m&&!m.animated||a===n&&!a.animated)&&(Ge=null),!s.dragoverBubble&&!t.rootEl&&a!==document&&(m.parentNode[de]._isOutsideThisEl(t.target),!se&&$e(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function F(){ce=ve(m),Be=ve(m,s.draggable),ae({sortable:v,name:"change",toEl:n,newIndex:ce,newDraggableIndex:Be,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),a=be(a,s.draggable,n,!0),S("dragOver"),E.eventCanceled)return h;if(m.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||v._ignoreWhileAnimating===a)return T(!1);if(zt=!1,c&&!s.disabled&&(u?f||(l=j!==$):J===this||(this.lastPutMode=qt.checkPull(this,c,m,t))&&i.checkPut(this,c,m,t))){if(p=this._getDirection(t,a)==="vertical",o=Y(m),S("dragOverValid"),E.eventCanceled)return h;if(l)return j=$,O(),this._hideClone(),S("revert"),E.eventCanceled||(Le?$.insertBefore(m,Le):$.appendChild(m)),T(!0);var N=Rn(n,s.draggable);if(!N||Gr(t,p,this)&&!N.animated){if(N===m)return T(!1);if(N&&n===t.target&&(a=N),a&&(r=Y(a)),Bt($,n,m,o,a,r,t,!!a)!==!1)return O(),N&&N.nextSibling?n.insertBefore(m,N.nextSibling):n.appendChild(m),j=n,F(),T(!0)}else if(N&&Wr(t,p,this)){var M=tt(n,0,s,!0);if(M===m)return T(!1);if(a=M,r=Y(a),Bt($,n,m,o,a,r,t,!1)!==!1)return O(),n.insertBefore(m,M),j=n,F(),T(!0)}else if(a.parentNode===n){r=Y(a);var W=0,he,ne=m.parentNode!==n,U=!Hr(m.animated&&m.toRect||o,a.animated&&a.toRect||r,p),ee=p?"top":"left",G=ra(a,"top","top")||ra(m,"top","top"),K=G?G.scrollTop:void 0;Ge!==a&&(he=r[ee],vt=!1,Nt=!U&&s.invertSwap||ne),W=Kr(t,a,r,p,U?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Nt,Ge===a);var C;if(W!==0){var x=ve(m);do x-=W,C=j.children[x];while(C&&(w(C,"display")==="none"||C===P))}if(W===0||C===a)return T(!1);Ge=a,ft=W;var oe=a.nextElementSibling,Q=!1;Q=W===1;var me=Bt($,n,m,o,a,r,t,Q);if(me!==!1)return(me===1||me===-1)&&(Q=me===1),wn=!0,setTimeout(Ur,30),O(),Q&&!oe?n.appendChild(m):a.parentNode.insertBefore(m,Q?oe:a),G&&xa(G,0,K-G.scrollTop),j=m.parentNode,he!==void 0&&!Nt&&(Mt=Math.abs(he-Y(a)[ee])),F(),T(!0)}if(n.contains(m))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",$e),A(document,"mousemove",$e),A(document,"touchmove",$e)},_offUpEvents:function(){var t=this.el.ownerDocument;A(t,"mouseup",this._onDrop),A(t,"touchend",this._onDrop),A(t,"pointerup",this._onDrop),A(t,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(t){var n=this.el,a=this.options;if(ce=ve(m),Be=ve(m,a.draggable),le("drop",this,{evt:t}),j=m&&m.parentNode,ce=ve(m),Be=ve(m,a.draggable),E.eventCanceled){this._nulling();return}Ze=!1,Nt=!1,vt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),En(this.cloneId),En(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ut&&w(document.body,"user-select",""),w(m,"transform",""),t&&(lt&&(t.cancelable&&t.preventDefault(),!a.dropBubble&&t.stopPropagation()),P&&P.parentNode&&P.parentNode.removeChild(P),($===j||J&&J.lastPutMode!=="clone")&&V&&V.parentNode&&V.parentNode.removeChild(V),m&&(this.nativeDraggable&&A(m,"dragend",this),hn(m),m.style["will-change"]="",lt&&!Ze&&ue(m,J?J.options.ghostClass:this.options.ghostClass,!1),ue(m,this.options.chosenClass,!1),ae({sortable:this,name:"unchoose",toEl:j,newIndex:null,newDraggableIndex:null,originalEvent:t}),$!==j?(ce>=0&&(ae({rootEl:j,name:"add",toEl:j,fromEl:$,originalEvent:t}),ae({sortable:this,name:"remove",toEl:j,originalEvent:t}),ae({rootEl:j,name:"sort",toEl:j,fromEl:$,originalEvent:t}),ae({sortable:this,name:"sort",toEl:j,originalEvent:t})),J&&J.save()):ce!==Je&&ce>=0&&(ae({sortable:this,name:"update",toEl:j,originalEvent:t}),ae({sortable:this,name:"sort",toEl:j,originalEvent:t})),E.active&&((ce==null||ce===-1)&&(ce=Je,Be=dt),ae({sortable:this,name:"end",toEl:j,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){le("nulling",this),$=m=j=P=Le=V=Ft=Re=Me=pe=lt=ce=Be=Je=dt=Ge=ft=J=qt=E.dragged=E.ghost=E.clone=E.active=null,Ht.forEach(function(t){t.checked=!0}),Ht.length=fn=vn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":m&&(this._onDragOver(t),Yr(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,a=this.el.children,o=0,r=a.length,l=this.options;o<r;o++)n=a[o],be(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||Jr(n));return t},sort:function(t,n){var a={},o=this.el;this.toArray().forEach(function(r,l){var s=o.children[l];be(s,this.options.draggable,o,!1)&&(a[r]=s)},this),n&&this.captureAnimationState(),t.forEach(function(r){a[r]&&(o.removeChild(a[r]),o.appendChild(a[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return be(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var a=this.options;if(n===void 0)return a[t];var o=bt.modifyOption(this,t,n);typeof o!="undefined"?a[t]=o:a[t]=n,t==="group"&&Ba(a)},destroy:function(){le("destroy",this);var t=this.el;t[de]=null,A(t,"mousedown",this._onTapStart),A(t,"touchstart",this._onTapStart),A(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(t,"dragover",this),A(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Re){if(le("hideClone",this),E.eventCanceled)return;w(V,"display","none"),this.options.removeCloneOnHide&&V.parentNode&&V.parentNode.removeChild(V),Re=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Re){if(le("showClone",this),E.eventCanceled)return;m.parentNode==$&&!this.options.group.revertClone?$.insertBefore(V,m):Le?$.insertBefore(V,Le):$.appendChild(V),this.options.group.revertClone&&this.animate(m,V),w(V,"display",""),Re=!1}}};function Yr(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Bt(e,t,n,a,o,r,l,s){var i,c=e[de],u=c.options.onMove,f;return window.CustomEvent&&!Ne&&!pt?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=t,i.from=e,i.dragged=n,i.draggedRect=a,i.related=o||t,i.relatedRect=r||Y(t),i.willInsertAfter=s,i.originalEvent=l,e.dispatchEvent(i),u&&(f=u.call(c,i,l)),f}function hn(e){e.draggable=!1}function Ur(){wn=!1}function Wr(e,t,n){var a=Y(tt(n.el,0,n.options,!0)),o=qa(n.el,n.options,P),r=10;return t?e.clientX<o.left-r||e.clientY<a.top&&e.clientX<a.right:e.clientY<o.top-r||e.clientY<a.bottom&&e.clientX<a.left}function Gr(e,t,n){var a=Y(Rn(n.el,n.options.draggable)),o=qa(n.el,n.options,P),r=10;return t?e.clientX>o.right+r||e.clientY>a.bottom&&e.clientX>a.left:e.clientY>o.bottom+r||e.clientX>a.right&&e.clientY>a.top}function Kr(e,t,n,a,o,r,l,s){var i=a?e.clientY:e.clientX,c=a?n.height:n.width,u=a?n.top:n.left,f=a?n.bottom:n.right,y=!1;if(!l){if(s&&Mt<c*o){if(!vt&&(ft===1?i>u+c*r/2:i<f-c*r/2)&&(vt=!0),vt)y=!0;else if(ft===1?i<u+Mt:i>f-Mt)return-ft}else if(i>u+c*(1-o)/2&&i<f-c*(1-o)/2)return Zr(t)}return y=y||l,y&&(i<u+c*r/2||i>f-c*r/2)?i>u+c/2?1:-1:0}function Zr(e){return ve(m)<ve(e)?1:-1}function Jr(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function el(e){Ht.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var a=t[n];a.checked&&Ht.push(a)}}function $t(e){return setTimeout(e,0)}function En(e){return clearTimeout(e)}Yt&&R(document,"touchmove",function(e){(E.active||Ze)&&e.cancelable&&e.preventDefault()});E.utils={on:R,off:A,css:w,find:Pa,is:function(t,n){return!!be(t,n,t,!1)},extend:Ir,throttle:Ta,closest:be,toggleClass:ue,clone:Oa,index:ve,nextTick:$t,cancelNextTick:En,detectDirection:ka,getChild:tt};E.get=function(e){return e[de]};E.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(E.utils=we(we({},E.utils),a.utils)),bt.mount(a)})};E.create=function(e,t){return new E(e,t)};E.version=Br;var X=[],it,Cn,Dn=!1,mn,pn,Qt,st;function tl(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var a=n.originalEvent;this.sortable.nativeDraggable?R(document,"dragover",this._handleAutoScroll):this.options.supportPointer?R(document,"pointermove",this._handleFallbackAutoScroll):a.touches?R(document,"touchmove",this._handleFallbackAutoScroll):R(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var a=n.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),ca(),Lt(),Fr()},nulling:function(){Qt=Cn=it=Dn=st=mn=pn=null,X.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,a){var o=this,r=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(r,l);if(Qt=n,a||this.options.forceAutoScrollFallback||pt||Ne||ut){bn(n,this.options,s,a);var i=Ie(s,!0);Dn&&(!st||r!==mn||l!==pn)&&(st&&ca(),st=setInterval(function(){var c=Ie(document.elementFromPoint(r,l),!0);c!==i&&(i=c,Lt()),bn(n,o.options,c,a)},10),mn=r,pn=l)}else{if(!this.options.bubbleScroll||Ie(s,!0)===_e()){Lt();return}bn(n,this.options,Ie(s,!1),!1)}}},qe(e,{pluginName:"scroll",initializeByDefault:!0})}function Lt(){X.forEach(function(e){clearInterval(e.pid)}),X=[]}function ca(){clearInterval(st)}var bn=Ta(function(e,t,n,a){if(!!t.scroll){var o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,i=_e(),c=!1,u;Cn!==n&&(Cn=n,Lt(),it=t.scroll,u=t.scrollFn,it===!0&&(it=Ie(n,!0)));var f=0,y=it;do{var p=y,v=Y(p),h=v.top,S=v.bottom,O=v.left,T=v.right,F=v.width,N=v.height,M=void 0,W=void 0,he=p.scrollWidth,ne=p.scrollHeight,U=w(p),ee=p.scrollLeft,G=p.scrollTop;p===i?(M=F<he&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),W=N<ne&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(M=F<he&&(U.overflowX==="auto"||U.overflowX==="scroll"),W=N<ne&&(U.overflowY==="auto"||U.overflowY==="scroll"));var K=M&&(Math.abs(T-o)<=l&&ee+F<he)-(Math.abs(O-o)<=l&&!!ee),C=W&&(Math.abs(S-r)<=l&&G+N<ne)-(Math.abs(h-r)<=l&&!!G);if(!X[f])for(var x=0;x<=f;x++)X[x]||(X[x]={});(X[f].vx!=K||X[f].vy!=C||X[f].el!==p)&&(X[f].el=p,X[f].vx=K,X[f].vy=C,clearInterval(X[f].pid),(K!=0||C!=0)&&(c=!0,X[f].pid=setInterval(function(){a&&this.layer===0&&E.active._onTouchMove(Qt);var oe=X[this.layer].vy?X[this.layer].vy*s:0,Q=X[this.layer].vx?X[this.layer].vx*s:0;typeof u=="function"&&u.call(E.dragged.parentNode[de],Q,oe,e,Qt,X[this.layer].el)!=="continue"||xa(X[this.layer].el,Q,oe)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&y!==i&&(y=Ie(y,!1)));Dn=c}},30),Ia=function(t){var n=t.originalEvent,a=t.putSortable,o=t.dragEl,r=t.activeSortable,l=t.dispatchSortableEvent,s=t.hideGhostForTarget,i=t.unhideGhostForTarget;if(!!n){var c=a||r;s();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY);i(),c&&!c.el.contains(f)&&(l("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function In(){}In.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,a=t.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=tt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),a&&a.animateAll()},drop:Ia};qe(In,{pluginName:"revertOnSpill"});function Fn(){}Fn.prototype={onSpill:function(t){var n=t.dragEl,a=t.putSortable,o=a||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Ia};qe(Fn,{pluginName:"removeOnSpill"});E.mount(new tl);E.mount(Fn,In);var Xt;(e=>{e.shape=bo.shape.pick(["firstName","lastName","phone","email","organization"]).shape({eventName:At().required(),date:yo().min(new Date,"Date can't be before today").required(),country:At().required(),text:At().nullable()})})(Xt||(Xt={}));class Fa{constructor(){an(this,"db",So());an(this,"collectionRef",_o())}async create(t){var c,u,f;const n=ke(this.collectionRef,rt("eventName","==",t.eventName));if((await Zn(n)).data().count>0)throw new gt("INVALID DATA",`Event name ${t.eventName} is already taken`);const o=ke(this.collectionRef,rn("position","desc"),on(1)),l=(c=(await Ke(o)).docs[0])==null?void 0:c.data(),s=(u=l==null?void 0:l.position)!=null?u:0,i=await wo(this.collectionRef,{firstName:t.firstName,lastName:t.lastName,email:t.email,organization:t.organization,phone:t.phone,country:t.country,eventName:t.eventName,date:typeof t.date=="string"?new Date(t.date):t.date,position:s+1,text:(f=t.text)!=null?f:null});return Tt(this.db,i.path)}async getPositionByOffset(t){const n=ke(this.collectionRef,rn("position","asc"),on(t)),a=await Ke(n);return a.docs[a.docs.length-1].data().position}async fetchListData(t){const n=await this.getPositionByOffset((t.page-1)*t.rowsPerPage+1),a=ke(this.collectionRef,rn("position","asc"),Eo(n),on(t.rowsPerPage)),r=(await Ke(a)).docs.map(l=>l.data());return console.log("events",r.map(l=>l.position)),r}async fetchListTotal(){const t=ke(this.collectionRef);return(await Zn(t)).data().count}async fetchList(t){const n=await Promise.all([this.fetchListData(t),this.fetchListTotal()]);return{data:n[0],total:n[1]}}async delete(t){const n=await this.findOneByEventName(t);return await Co(Tt(this.collectionRef,n.id)),n}async findOneByEventName(t){var l,s;const n=ke(this.collectionRef,rt("eventName","==",t)),a=await Ke(n),o=a.docs[0],r=(s=(l=a.docs[0])==null?void 0:l.data())!=null?s:null;if(!r)throw new gt("NOT FOUND",`Event with name ${t} not found`);return{...r,id:o.id}}async patchOneByEventName(t,n){const a=await this.findOneByEventName(t);return await Do(Tt(this.collectionRef,a.id),n),this.findOneByEventName(t)}async reoder(t,n){if(n===t)return;const a=Math.min(n,t),o=Math.max(n,t),r=ke(this.collectionRef,rt("position",">=",a),rt("position","<=",o)),i=(await Ke(r)).docs.map(p=>({id:p.id,position:p.data().position,e:p.data().eventName}));i.sort((p,v)=>p.position-v.position);const c=t-i[0].position,u=n-i[0].position,f=i[c];i.splice(c,1),i.splice(u,0,f),i.forEach((p,v)=>{p.position=v+a});const y=Po(this.db);i.forEach(p=>{const v=Tt(this.collectionRef,p.id);y.update(v,{position:p.position})}),await y.commit()}}const mt=Nn("event-list",()=>{const e=new Fa,t=Se(Pe("unset")),n=Se({page:1,rowsPerPage:5,sortBy:"position",descending:!1}),a=g(()=>{var v,h;return Math.ceil(((h=(v=t.data)==null?void 0:v.total)!=null?h:0)/n.rowsPerPage)}),o=()=>Ae({state:t,action:e.fetchList(n),onSuccess:v=>{console.log(v.data.map(O=>O.position)),t.data||(t.data={data:[],total:0});const h=t.data.data.reduce((O,T)=>({...O,[T.eventName]:T}),{});v.data.forEach(O=>h[O.eventName]=O);const S=Object.values(h);S.sort((O,T)=>O.position-T.position),t.data.data=S,t.data.total=v.total},onError:v=>ze.error(v.message)});ie(()=>[n.page,n.rowsPerPage],o);const r=v=>n.page=v,l=Se(Pe("unset")),s=v=>Ae({state:l,action:e.create(v),onSuccess:()=>o(),onError:h=>ze.error(h.message)}),i=Se(Pe("unset")),c=v=>Ae({state:i,action:e.delete(v),onSuccess:()=>{!t.data||(t.data.data=t.data.data.filter(h=>h.eventName!==v))},onError:h=>ze.error(h.message)}),u=Se(Pe("unset")),f=(v,h)=>Ae({state:u,action:e.patchOneByEventName(v,h),onSuccess:S=>{!t.data||(t.data.data=t.data.data.map(O=>O.eventName===v?S:O))},onError:S=>ze.error(S.message)}),y=Se(Pe("unset"));return{list:t,listOpts:n,fetchList:o,changePage:r,totalPages:a,create:s,createState:l,deleteOne:c,deleteOneState:i,reorderState:y,reorder:(v,h)=>Ae({state:y,action:e.reoder(v,h),onSuccess:o}),patchOneState:u,patchOneEvent:f}}),nl=Nn("event-single",()=>{const e=new Fa,t=mt(),n=Se(Pe("unset")),a=i=>Ae({state:n,action:e.findOneByEventName(i),onSuccess:c=>{n.data=c},onError:c=>ze.error(c.message)}),o=Se(Pe("unset")),r=i=>Ae({state:o,action:t.deleteOne(i),onSuccess:()=>{n.data=null},onError:c=>ze.error(c.message)}),l=Se(Pe("unset"));return{event:n,fetchEvent:a,deleteState:o,deleteEvent:r,editState:l,editEvent:(i,c)=>Ae({state:l,action:t.patchOneEvent(i,c),onSuccess:u=>{u instanceof gt||(n.data=u)},onError:u=>ze.error(u.message)})}});function da(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Pn=To({name:"close-popup",beforeMount(e,{value:t}){const n={depth:da(t),handler(a){n.depth!==0&&setTimeout(()=>{const o=Qo(e);o!==void 0&&Xo(o,a,n.depth)})},handlerKey(a){fa(a,13)===!0&&n.handler(a)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=da(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),nt=ge({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=g(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>b(e.tag,{class:n.value},Oe(t.default))}}),Mn=ge({name:"QCardActions",props:{...xo,vertical:Boolean},setup(e,{slots:t}){const n=Oo(e),a=g(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>b("div",{class:a.value},Oe(t.default))}}),$n=ge({name:"QCard",props:{...Qe,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Ee(),a=Xe(e,n),o=g(()=>"q-card"+(a.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>b(e.tag,{class:o.value},Oe(t.default))}});const al={class:"text-lg c-primary"},ol={class:"c-tertiary"},rl=Fe({__name:"AttentionDialog",props:{modelValue:{type:Boolean},footerLoading:{type:Boolean}},emits:["update:modelValue","submit"],setup(e){return(t,n)=>(ye(),He(Yo,{"model-value":t.modelValue,"onUpdate:modelValue":n[1]||(n[1]=a=>t.$emit("update:modelValue",a))},{default:L(()=>[k($n,null,{default:L(()=>[k(nt,{align:"center"},{default:L(()=>[je("div",al,[ln(t.$slots,"heading",{},()=>[ha("Alert")])])]),_:3}),k(nt,{align:"center"},{default:L(()=>[je("div",ol,[ln(t.$slots,"body")])]),_:3}),k(Mn,{align:"center"},{default:L(()=>[ln(t.$slots,"footer",{},()=>[Sn(k(I(ht),{label:"Ok",loading:t.footerLoading,onClick:n[0]||(n[0]=a=>t.$emit("submit"))},null,8,["loading"]),[[Pn]])])]),_:3})]),_:3})]),_:3},8,["model-value"]))}}),ll=Fe({__name:"EventCellActions",props:{event:{}},setup(e){const t=e,n=mt(),a=xe(!1),o=()=>{n.deleteOne(t.event.eventName)},r=kn(),l=()=>{r.push({name:Bn.EVENT.EDIT,params:{eventName:t.event.eventName}})};return(s,i)=>(ye(),He(ya,{class:"relative"},{default:L(()=>[k(Ve,{icon:"menu",flat:"",class:"px-2 py-0 c-tertiary [&_.q-icon]:text-md! items-center!"},{default:L(()=>[k(Uo,null,{default:L(()=>[k(Sa,{style:{"min-width":"100px"}},{default:L(()=>[Sn(k(I(ht),{label:"Delete",class:"b-rd-0! w-full",onClick:i[0]||(i[0]=c=>a.value=!0)},null,512),[[Pn]]),Sn(k(I(ht),{label:"Edit",class:"b-rd-0! w-full",onClick:l},null,512),[[Pn]])]),_:1})]),_:1})]),_:1}),k(I(rl),{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=c=>a.value=c),onSubmit:o,footerLoading:I(n).deleteOneState.state==="loading"},{body:L(()=>[ha("Delete event "+ma(s.event.eventName)+" ?",1)]),_:1},8,["modelValue","footerLoading"])]),_:1}))}}),ml=Fe({__name:"WEventsList",props:{columns:{}},setup(e){const t=e,n=mt(),{changePage:a,reorder:o}=mt(),{list:r,listOpts:l,totalPages:s,reorderState:i}=qo(n),c=g(()=>{var v;return(v=r.value.data)==null?void 0:v.data}),u=g(()=>{const v=t.columns.map(S=>({name:S,label:S,field:S,align:"center",sortable:!0}));return[{name:"drag",label:"",field:""},...v,{name:"actions",label:"",field:""}]}),f=v=>{var h;l.value.rowsPerPage=v.rowsPerPage,l.value.descending=v.sortBy?v.descending:!l.value.descending,l.value.sortBy=(h=v.sortBy)!=null?h:"position"},y=g(()=>i.value.state!=="loading"&&l.value.sortBy==="position"),p=xe();return xn(()=>{if(!p.value)return;const h=p.value.$el.querySelector(".q-virtual-scroll__content"),S=E.create(h,{animation:150,handle:".draggable-btn",onEnd:async O=>{const T=p.value.computedRows;if(!T||O.newIndex===void 0||O.oldIndex===void 0)return;const F=T[O.oldIndex].position,N=T[O.newIndex].position;await o(F,N)}});On(()=>S.destroy())}),(v,h)=>(ye(),He(I(Or),{ref_key:"$root",ref:p,title:"Events",rows:c.value,columns:u.value,"row-key":"eventName",class:"pa-3! mt-2 mx-2","virtual-scroll":"",loading:I(r).state==="loading"||I(i).state==="loading",pagination:I(l),"onUpdate:pagination":f},{pagination:L(()=>[k(Zo,{"model-value":I(l).page,"onUpdate:modelValue":I(a),max:I(s),"max-pages":I(s)},null,8,["model-value","onUpdate:modelValue","max","max-pages"])]),"body-cell-drag":L(S=>[k(ya,{props:S},{default:L(()=>[k(Ve,{flat:"",icon:"drag_handle",disable:!y.value,class:"draggable-btn px-2 py-0 c-tertiary [&_.q-icon]:text-md! items-center! cursor-grab"},null,8,["disable"]),je("div",{class:No(["absolute z-1 left-0 top-0",{"w-full h-full":!y.value}])},null,2)]),_:2},1032,["props"])]),"body-cell-actions":L(S=>[k(ll,{event:S.row},null,8,["event"])]),_:1},8,["rows","columns","loading","pagination"]))}}),pl=Fe({__name:"WEventsListSelectColumns",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,o=["firstName","lastName","email","organization","phone","date","country","eventName","position","text"],{values:r,isFieldValid:l,setTouched:s}=An({validationSchema:ko({columns:Bo().of(At().required().oneOf(o)).min(3).required()}),initialValues:{columns:n.modelValue}});return ie(r,async i=>{await qn(),l("columns")?a("update:modelValue",i.columns):s(!0)}),(i,c)=>(ye(),He(I(Wo),{name:"columns",options:o,multiple:"","options-selected-class":"bg-tertiary/10"}))}});Fe({__name:"EEventTableRow",props:{event:{},columns:{}},setup(e){const t=e,n=g(()=>t.columns.map(o=>({label:t.event[o],key:o}))),a=o=>o instanceof Date?o.toLocaleDateString():o;return(o,r)=>(ye(),Rt(_n,null,[je("td",null,[k(Tn,{name:"drag_handle"})]),(ye(!0),Rt(_n,null,Ao(n.value,l=>(ye(),Rt("td",{key:l.key},[je("span",null,ma(a(l.label)),1)]))),128))],64))}});const Ma=Fe({__name:"EEventFields",props:{edit:{type:Boolean}},setup(e){return(t,n)=>(ye(),Rt(_n,null,[k(I(De),{name:"firstName",label:"firstName"}),k(I(De),{name:"lastName",label:"lastName"}),k(I(De),{name:"phone",label:"phone"}),k(I(De),{name:"email",label:"email"}),k(I(De),{name:"organization",label:"organization"}),k(I(De),{name:"country",label:"country"}),t.edit?Ro("",!0):(ye(),He(I(De),{key:0,name:"eventName",label:"eventName"})),k(I(De),{name:"date",label:"date"}),k(I(De),{name:"text",label:"text"})],64))}});class il{async getMeByEmail(t){var r,l;const n=ke(Io(),rt("email","==",t));return(l=(r=(await Ke(n)).docs[0])==null?void 0:r.data())!=null?l:null}}const sl=Nn("profile",()=>{const e=Fo(),t=Mo(),n=new il,a=Se(Pe("unset")),o=$o(t,"isAuth");return Lo(async()=>{var r;if(((r=e.value)==null?void 0:r.email)&&o.value.data){a.loading(),a.data=await n.getMeByEmail(e.value.email),a.success();return}a.success(),a.data=null}),{me:a}}),ul=je("div",{class:"text-h6"},"Create Event",-1),bl=Fe({__name:"WCreateEvent",setup(e){const t=mt(),n=sl(),a=kn(),{handleSubmit:o,setValues:r}=An({validationSchema:Xt.shape});if(n.me.state==="success"&&n.me.data)r(n.me.data);else{const s=ie(()=>n.me.data,()=>{n.me.state==="success"&&n.me.data&&(r(n.me.data),s())})}const l=o(async s=>{await t.create(s)instanceof gt||a.push({name:Bn.DASHBOARD.EVENTS})});return(s,i)=>(ye(),He($n,{class:"flex flex-col h-full"},{default:L(()=>[k(nt,null,{default:L(()=>[ul]),_:1}),k(nt,{class:"q-pt-none flex-1"},{default:L(()=>[k(ba,{class:"w-full h-full"},{default:L(()=>[k(I(Ma))]),_:1})]),_:1}),k(Mn,{align:"right"},{default:L(()=>[k(I(ht),{flat:"",label:"OK",color:"primary",onClick:I(l),loading:I(t).createState.state==="loading"},null,8,["onClick","loading"])]),_:1})]),_:1}))}}),cl=je("div",{class:"text-h6"},"Edit Event",-1),yl=Fe({__name:"WEditEvent",props:{eventName:{}},setup(e){const t=e,n=nl();n.fetchEvent(t.eventName);const a=kn(),{handleSubmit:o,setValues:r}=An({validationSchema:Xt.shape});if(n.event.state==="success"&&n.event.data)r(n.event.data);else{const s=ie(()=>n.event.data,()=>{n.event.state==="success"&&n.event.data&&(r(n.event.data),s())})}const l=o(async s=>{await n.editEvent(t.eventName,s)instanceof gt||a.push({name:Bn.DASHBOARD.EVENTS})});return(s,i)=>(ye(),He($n,{class:"flex flex-col h-full"},{default:L(()=>[k(nt,null,{default:L(()=>[cl]),_:1}),k(nt,{class:"q-pt-none flex-1"},{default:L(()=>[k(ba,{class:"w-full h-full"},{default:L(()=>[k(I(Ma),{edit:""})]),_:1})]),_:1}),k(Mn,{align:"right"},{default:L(()=>[k(I(ht),{flat:"",label:"OK",color:"primary",onClick:I(l),loading:I(n).editState.state==="loading"},null,8,["onClick","loading"])]),_:1})]),_:1}))}});export{pl as _,ml as a,bl as b,yl as c,mt as u};
