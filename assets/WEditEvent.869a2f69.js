var io=Object.defineProperty;var so=(e,t,n)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ln=(e,t,n)=>(so(e,typeof t!="symbol"?t+"":t,n),n);import{M as ve,aP as uo,c as g,r as Se,w as se,aQ as Gn,aR as co,I as fo,h as m,g as _e,ag as je,W as Ce,ab as vo,Q as Wt,aK as ga,o as qn,U as go,S as ho,D as kn,_ as Kn,K as On,aC as ha,aD as ma,aS as Ue,H as Zn,am as mo,al as Jn,aT as _n,aU as ea,aO as bo,Z as Nn,aV as po,au as ot,aW as yo,aX as It,aY as So,aZ as _o,a_ as wo,a$ as Ne,b0 as rt,b1 as ta,ar as ht,b2 as rn,b3 as sn,b4 as Ze,b5 as Eo,b6 as Tt,b7 as Co,b8 as Do,b9 as xo,ba as Po,bb as Bn,ad as we,bc as Pe,bd as Ae,be as He,bf as To,bg as qo,d as Fe,p as ye,q as Xe,t as L,j as B,A as Qe,ae as un,y as ba,E as wn,u as F,ap as An,z as pa,R as In,bh as ko,bi as Oo,bj as No,bk as Bo,v as Rt,F as En,x as Ao,af as Io,bl as Ro,bm as Fo,ao as $o,bn as Mo,aA as Vo}from"./index.6bc8d3c9.js";import{Q as Lo,b as zo,c as jo,d as Ho,e as Qo,f as ya,g as Xo,h as Yo,a as mt,C as Cn,i as Wo,u as Rn,j as Uo,_ as Oe,k as Go}from"./SBtn.36cdd4c4.js";import{f as $e,h as Me,i as Ko,g as Zo}from"./use-prevent-scroll.b2282626.js";import{Q as Sa}from"./QScrollArea.007c47e5.js";function qt(e,t){return[!0,!1].includes(e)?e:t}var Jo=ve({name:"QPagination",props:{...$e,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||uo.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:n}=_e(),{$q:a}=n,o=Me(e,a),l=g(()=>parseInt(e.min,10)),r=g(()=>parseInt(e.max,10)),s=g(()=>parseInt(e.maxPages,10)),i=g(()=>v.value+" / "+r.value),c=g(()=>qt(e.boundaryLinks,e.input)),u=g(()=>qt(e.boundaryNumbers,!e.input)),f=g(()=>qt(e.directionLinks,e.input)),y=g(()=>qt(e.ellipses,!e.input)),p=Se(null),v=g({get:()=>e.modelValue,set:w=>{if(w=parseInt(w,10),e.disable||isNaN(w))return;const x=Ko(w,l.value,r.value);e.modelValue!==x&&t("update:modelValue",x)}});se(()=>`${l.value}|${r.value}`,()=>{v.value=e.modelValue});const h=g(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),S=g(()=>e.gutter in Gn?`${Gn[e.gutter]}px`:e.gutter||null),k=g(()=>S.value!==null?`--q-pagination-gutter-parent:-${S.value};--q-pagination-gutter-child:${S.value}`:null),P=g(()=>{const w=[e.iconFirst||a.iconSet.pagination.first,e.iconPrev||a.iconSet.pagination.prev,e.iconNext||a.iconSet.pagination.next,e.iconLast||a.iconSet.pagination.last];return a.lang.rtl===!0?w.reverse():w}),$=g(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),O=g(()=>co(e,"flat")),M=g(()=>({[O.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),G=g(()=>{const w={[O.value]:!1};return e.activeDesign!==""&&(w[e.activeDesign]=!0),w}),ae=g(()=>({...G.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),J=g(()=>{let w=Math.max(s.value,1+(y.value?2:0)+(u.value?2:0));const x={pgFrom:l.value,pgTo:r.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(r.value).length)}em`}};return s.value&&w<r.value-l.value+1&&(w=1+Math.floor(w/2)*2,x.pgFrom=Math.max(l.value,Math.min(r.value-w+1,e.modelValue-Math.floor(w/2))),x.pgTo=Math.min(r.value,x.pgFrom+w-1),u.value&&(x.boundaryStart=!0,x.pgFrom++),y.value&&x.pgFrom>l.value+(u.value?1:0)&&(x.ellipsesStart=!0,x.pgFrom++),u.value&&(x.boundaryEnd=!0,x.pgTo--),y.value&&x.pgTo<r.value-(u.value?1:0)&&(x.ellipsesEnd=!0,x.pgTo--)),x});function Q(w){v.value=w}function Z(w){v.value=v.value+w}const K=g(()=>{function w(){v.value=p.value,p.value=null}return{"onUpdate:modelValue":x=>{p.value=x},onKeyup:x=>{fo(x,13)===!0&&w()},onBlur:w}});function D(w,x,le){const Y={"aria-label":x,"aria-current":"false",...M.value,...w};return le===!0&&Object.assign(Y,{"aria-current":"true",...ae.value}),x!==void 0&&(e.toFn!==void 0?Y.to=e.toFn(x):Y.onClick=()=>{Q(x)}),m(je,Y)}return Object.assign(n,{set:Q,setByOffset:Z}),()=>{const w=[],x=[];let le;if(c.value===!0&&(w.push(D({key:"bls",disable:e.disable||e.modelValue<=l.value,icon:P.value[0]},l.value)),x.unshift(D({key:"ble",disable:e.disable||e.modelValue>=r.value,icon:P.value[3]},r.value))),f.value===!0&&(w.push(D({key:"bdp",disable:e.disable||e.modelValue<=l.value,icon:P.value[1]},e.modelValue-1)),x.unshift(D({key:"bdn",disable:e.disable||e.modelValue>=r.value,icon:P.value[2]},e.modelValue+1))),e.input!==!0){le=[];const{pgFrom:Y,pgTo:me,marginalStyle:ue}=J.value;if(J.value.boundaryStart===!0){const ee=l.value===e.modelValue;w.push(D({key:"bns",style:ue,disable:e.disable,label:l.value},l.value,ee))}if(J.value.boundaryEnd===!0){const ee=r.value===e.modelValue;x.unshift(D({key:"bne",style:ue,disable:e.disable,label:r.value},r.value,ee))}J.value.ellipsesStart===!0&&w.push(D({key:"bes",style:ue,disable:e.disable,label:"\u2026",ripple:!1},Y-1)),J.value.ellipsesEnd===!0&&x.unshift(D({key:"bee",style:ue,disable:e.disable,label:"\u2026",ripple:!1},me+1));for(let ee=Y;ee<=me;ee++)le.push(D({key:`bpg${ee}`,style:ue,disable:e.disable,label:ee},ee,ee===e.modelValue))}return m("div",{class:h.value,...$.value},[m("div",{class:"q-pagination__content row no-wrap items-center",style:k.value},[...w,e.input===!0?m(Lo,{class:"inline",style:{width:`${i.value.length/1.5}em`},type:"number",dense:!0,value:p.value,disable:e.disable,dark:o.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:i.value,min:l.value,max:r.value,...K.value}):m("div",{class:"q-pagination__middle row justify-center"},le),...x])])}}}),_a=ve({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=_e(),a=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return m("td",{class:a.value},Ce(t.default));const o=n.vnode.key,l=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(l===void 0)return;const{row:r}=e.props;return m("td",{class:a.value+l.__tdClass(r),style:l.__tdStyle(r)},Ce(t.default))}}}),el=ve({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const a=_e(),{proxy:{$q:o}}=a,l=r=>{n("click",r)};return()=>{if(e.props===void 0)return m("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:l},Ce(t.default));let r,s;const i=a.vnode.key;if(i){if(r=e.props.colsMap[i],r===void 0)return}else r=e.props.col;if(r.sortable===!0){const u=r.align==="right"?"unshift":"push";s=vo(t.default,[]),s[u](m(Wt,{class:r.__iconClass,name:o.iconSet.table.arrowUp}))}else s=Ce(t.default);const c={class:r.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:r.headerStyle,onClick:u=>{r.sortable===!0&&e.props.sort(r),l(u)}};return m("th",c,s)}}});const tl={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},cn={xs:2,sm:4,md:8,lg:16,xl:24};var nl=ve({name:"QSeparator",props:{...$e,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=_e(),n=Me(e,t.proxy.$q),a=g(()=>e.vertical===!0?"vertical":"horizontal"),o=g(()=>` q-separator--${a.value}`),l=g(()=>e.inset!==!1?`${o.value}-${tl[e.inset]}`:""),r=g(()=>`q-separator${o.value}${l.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=g(()=>{const i={};if(e.size!==void 0&&(i[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const c=e.spaced===!0?`${cn.md}px`:e.spaced in cn?`${cn[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];i[`margin${u[0]}`]=i[`margin${u[1]}`]=c}return i});return()=>m("hr",{class:r.value,style:s.value,"aria-orientation":a.value})}}),wa=ve({name:"QList",props:{...$e,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=_e(),a=Me(e,n.proxy.$q),o=g(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>m(e.tag,{class:o.value},Ce(t.default))}});const al=["horizontal","vertical","cell","none"];var ol=ve({name:"QMarkupTable",props:{...$e,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>al.includes(e)}},setup(e,{slots:t}){const n=_e(),a=Me(e,n.proxy.$q),o=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>m("div",{class:o.value},[m("table",{class:"q-table"},Ce(t.default))])}});function Ea(e,t){return m("div",e,[m("table",{class:"q-table"},t)])}const ll={list:wa,table:ol},rl=["list","table","__qtable"];var il=ve({name:"QVirtualScroll",props:{...zo,type:{type:String,default:"list",validator:e=>rl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let a;const o=Se(null),l=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:r,localResetVirtualScroll:s,padVirtualScroll:i,onVirtualScrollEvt:c}=jo({virtualScrollLength:l,getVirtualScrollTarget:v,getVirtualScrollEl:p}),u=g(()=>{if(l.value===0)return[];const P=($,O)=>({index:r.value.from+O,item:$});return e.itemsFn===void 0?e.items.slice(r.value.from,r.value.to).map(P):e.itemsFn(r.value.from,r.value.to-r.value.from).map(P)}),f=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),y=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});se(l,()=>{s()}),se(()=>e.scrollTarget,()=>{S(),h()});function p(){return o.value.$el||o.value}function v(){return a}function h(){a=Zo(p(),e.scrollTarget),a.addEventListener("scroll",c,Kn.passive)}function S(){a!==void 0&&(a.removeEventListener("scroll",c,Kn.passive),a=void 0)}function k(){let P=i(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(P=t.before().concat(P)),On(t.after,P)}return ga(()=>{s()}),qn(()=>{h()}),go(()=>{h()}),ho(()=>{S()}),kn(()=>{S()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ea({ref:o,class:"q-table__middle "+f.value},k()):m(ll[e.type],{...n,ref:o,class:[n.class,f.value],...y.value},k)}}});const sl={xs:2,sm:4,md:6,lg:10,xl:14};function na(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var ul=ve({name:"QLinearProgress",props:{...$e,...ha,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=_e(),a=Me(e,n.$q),o=ma(e,sl),l=g(()=>e.indeterminate===!0||e.query===!0),r=g(()=>e.reverse!==e.query),s=g(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),i=g(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),c=g(()=>na(e.buffer!==void 0?e.buffer:1,r.value,n.$q)),u=g(()=>`with${e.instantFeedback===!0?"out":""}-transition`),f=g(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),y=g(()=>na(l.value===!0?1:e.value,r.value,n.$q)),p=g(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${l.value===!0?"in":""}determinate`),v=g(()=>({width:`${e.value*100}%`})),h=g(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const S=[m("div",{class:f.value,style:c.value}),m("div",{class:p.value,style:y.value})];return e.stripe===!0&&l.value===!1&&S.push(m("div",{class:h.value,style:v.value})),m("div",{class:i.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},On(t.default,S))}}});function cl(e,t){const n=Se(null),a=g(()=>e.disable===!0?null:m("span",{ref:n,class:"no-outline",tabindex:-1}));function o(l){const r=t.value;l!==void 0&&l.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():n.value!==null&&(l===void 0||r!==null&&r.contains(l.target)===!0)&&n.value.focus()}return{refocusTargetEl:a,refocusTarget:o}}var dl={xs:30,sm:35,md:40,lg:50,xl:60};const fl={...$e,...ha,...Ho,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},vl=["update:modelValue"];function gl(e,t){const{props:n,slots:a,emit:o,proxy:l}=_e(),{$q:r}=l,s=Me(n,r),i=Se(null),{refocusTargetEl:c,refocusTarget:u}=cl(n,i),f=ma(n,dl),y=g(()=>n.val!==void 0&&Array.isArray(n.modelValue)),p=g(()=>{const D=Ue(n.val);return y.value===!0?n.modelValue.findIndex(w=>Ue(w)===D):-1}),v=g(()=>y.value===!0?p.value>-1:Ue(n.modelValue)===Ue(n.trueValue)),h=g(()=>y.value===!0?p.value===-1:Ue(n.modelValue)===Ue(n.falseValue)),S=g(()=>v.value===!1&&h.value===!1),k=g(()=>n.disable===!0?-1:n.tabindex||0),P=g(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),$=g(()=>{const D=v.value===!0?"truthy":h.value===!0?"falsy":"indet",w=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?v.value===!0:h.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${D}${w}`}),O=g(()=>{const D={type:"checkbox"};return n.name!==void 0&&Object.assign(D,{".checked":v.value,"^checked":v.value===!0?"checked":void 0,name:n.name,value:y.value===!0?n.val:n.trueValue}),D}),M=Qo(O),G=g(()=>{const D={tabindex:k.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":S.value===!0?"mixed":v.value===!0?"true":"false"};return n.disable===!0&&(D["aria-disabled"]="true"),D});function ae(D){D!==void 0&&(Zn(D),u(D)),n.disable!==!0&&o("update:modelValue",J(),D)}function J(){if(y.value===!0){if(v.value===!0){const D=n.modelValue.slice();return D.splice(p.value,1),D}return n.modelValue.concat([n.val])}if(v.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(h.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function Q(D){(D.keyCode===13||D.keyCode===32)&&Zn(D)}function Z(D){(D.keyCode===13||D.keyCode===32)&&ae(D)}const K=t(v,S);return Object.assign(l,{toggle:ae}),()=>{const D=K();n.disable!==!0&&M(D,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const w=[m("div",{class:$.value,style:f.value,"aria-hidden":"true"},D)];c.value!==null&&w.push(c.value);const x=n.label!==void 0?On(a.default,[n.label]):Ce(a.default);return x!==void 0&&w.push(m("div",{class:`q-${e}__label q-anchor--skip`},x)),m("div",{ref:i,class:P.value,...G.value,onClick:ae,onKeydown:Q,onKeyup:Z},w)}}const hl=m("div",{key:"svg",class:"q-checkbox__bg absolute"},[m("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[m("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),m("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var dn=ve({name:"QCheckbox",props:fl,emits:vl,setup(e){function t(n,a){const o=g(()=>(n.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>o.value!==null?[m("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[m(Wt,{class:"q-checkbox__icon",name:o.value})])]:[hl]}return gl("checkbox",t)}});let lt=0;const ml={fullscreen:Boolean,noRouteFullscreenExit:Boolean},bl=["update:fullscreen","fullscreen"];function pl(){const e=_e(),{props:t,emit:n,proxy:a}=e;let o,l,r;const s=Se(!1);mo(e)===!0&&se(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),se(()=>t.fullscreen,f=>{s.value!==f&&i()}),se(s,f=>{n("update:fullscreen",f),n("fullscreen",f)});function i(){s.value===!0?u():c()}function c(){s.value!==!0&&(s.value=!0,r=a.$el.parentNode,r.replaceChild(l,a.$el),document.body.appendChild(a.$el),lt++,lt===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:u},Jn.add(o))}function u(){s.value===!0&&(o!==void 0&&(Jn.remove(o),o=void 0),r.replaceChild(a.$el,l),s.value=!1,lt=Math.max(0,lt-1),lt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return ga(()=>{l=document.createElement("span")}),qn(()=>{t.fullscreen===!0&&c()}),kn(u),Object.assign(a,{toggleFullscreen:i,setFullscreen:c,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:i}}function yl(e,t){return new Date(e)-new Date(t)}const Sl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function _l(e,t,n,a){const o=g(()=>{const{sortBy:s}=t.value;return s&&n.value.find(i=>i.name===s)||null}),l=g(()=>e.sortMethod!==void 0?e.sortMethod:(s,i,c)=>{const u=n.value.find(p=>p.name===i);if(u===void 0||u.field===void 0)return s;const f=c===!0?-1:1,y=typeof u.field=="function"?p=>u.field(p):p=>p[u.field];return s.sort((p,v)=>{let h=y(p),S=y(v);return u.rawSort!==void 0?u.rawSort(h,S,p,v)*f:h==null?-1*f:S==null?1*f:u.sort!==void 0?u.sort(h,S,p,v)*f:_n(h)===!0&&_n(S)===!0?(h-S)*f:ea(h)===!0&&ea(S)===!0?yl(h,S)*f:typeof h=="boolean"&&typeof S=="boolean"?(h-S)*f:([h,S]=[h,S].map(k=>(k+"").toLocaleString().toLowerCase()),h<S?-1*f:h===S?0:f)})});function r(s){let i=e.columnSortOrder;if(bo(s)===!0)s.sortOrder&&(i=s.sortOrder),s=s.name;else{const f=n.value.find(y=>y.name===s);f!==void 0&&f.sortOrder&&(i=f.sortOrder)}let{sortBy:c,descending:u}=t.value;c!==s?(c=s,u=i==="da"):e.binaryStateSort===!0?u=!u:u===!0?i==="ad"?c=null:u=!1:i==="ad"?u=!0:c=null,a({sortBy:c,descending:u,page:1})}return{columnToSort:o,computedSortMethod:l,sort:r}}const wl={filter:[String,Object],filterMethod:Function};function El(e,t){const n=g(()=>e.filterMethod!==void 0?e.filterMethod:(a,o,l,r)=>{const s=o?o.toLowerCase():"";return a.filter(i=>l.some(c=>{const u=r(c,i)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(s)!==-1}))});return se(()=>e.filter,()=>{Nn(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function Cl(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function aa(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Dl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function xl(e,t){const{props:n,emit:a}=e,o=Se(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),l=g(()=>{const u=n["onUpdate:pagination"]!==void 0?{...o.value,...n.pagination}:o.value;return aa(u)}),r=g(()=>l.value.rowsNumber!==void 0);function s(u){i({pagination:u,filter:n.filter})}function i(u={}){Nn(()=>{a("request",{pagination:u.pagination||l.value,filter:u.filter||n.filter,getCellValue:t})})}function c(u,f){const y=aa({...l.value,...u});if(Cl(l.value,y)===!0){r.value===!0&&f===!0&&s(y);return}if(r.value===!0){s(y);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?a("update:pagination",y):o.value=y}return{innerPagination:o,computedPagination:l,isServerSide:r,requestServerInteraction:i,setPagination:c}}function Pl(e,t,n,a,o,l){const{props:r,emit:s,proxy:{$q:i}}=e,c=g(()=>a.value===!0?n.value.rowsNumber||0:l.value),u=g(()=>{const{page:O,rowsPerPage:M}=n.value;return(O-1)*M}),f=g(()=>{const{page:O,rowsPerPage:M}=n.value;return O*M}),y=g(()=>n.value.page===1),p=g(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(c.value/n.value.rowsPerPage))),v=g(()=>f.value===0?!0:n.value.page>=p.value),h=g(()=>(r.rowsPerPageOptions.includes(t.value.rowsPerPage)?r.rowsPerPageOptions:[t.value.rowsPerPage].concat(r.rowsPerPageOptions)).map(M=>({label:M===0?i.lang.table.allRows:""+M,value:M})));se(p,(O,M)=>{if(O===M)return;const G=n.value.page;O&&!G?o({page:1}):O<G&&o({page:O})});function S(){o({page:1})}function k(){const{page:O}=n.value;O>1&&o({page:O-1})}function P(){const{page:O,rowsPerPage:M}=n.value;f.value>0&&O*M<c.value&&o({page:O+1})}function $(){o({page:p.value})}return r["onUpdate:pagination"]!==void 0&&s("update:pagination",{...n.value}),{firstRowIndex:u,lastRowIndex:f,isFirstPage:y,isLastPage:v,pagesNumber:p,computedRowsPerPageOptions:h,computedRowsNumber:c,firstPage:S,prevPage:k,nextPage:P,lastPage:$}}const Tl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ql=["update:selected","selection"];function kl(e,t,n,a){const o=g(()=>{const v={};return e.selected.map(a.value).forEach(h=>{v[h]=!0}),v}),l=g(()=>e.selection!=="none"),r=g(()=>e.selection==="single"),s=g(()=>e.selection==="multiple"),i=g(()=>n.value.length!==0&&n.value.every(v=>o.value[a.value(v)]===!0)),c=g(()=>i.value!==!0&&n.value.some(v=>o.value[a.value(v)]===!0)),u=g(()=>e.selected.length);function f(v){return o.value[v]===!0}function y(){t("update:selected",[])}function p(v,h,S,k){t("selection",{rows:h,added:S,keys:v,evt:k});const P=r.value===!0?S===!0?h:[]:S===!0?e.selected.concat(h):e.selected.filter($=>v.includes(a.value($))===!1);t("update:selected",P)}return{hasSelectionMode:l,singleSelection:r,multipleSelection:s,allRowsSelected:i,someRowsSelected:c,rowsSelectedNumber:u,isRowSelected:f,clearSelection:y,updateSelection:p}}function oa(e){return Array.isArray(e)?e.slice():[]}const Ol={expanded:Array},Nl=["update:expanded"];function Bl(e,t){const n=Se(oa(e.expanded));se(()=>e.expanded,r=>{n.value=oa(r)});function a(r){return n.value.includes(r)}function o(r){e.expanded!==void 0?t("update:expanded",r):n.value=r}function l(r,s){const i=n.value.slice(),c=i.indexOf(r);s===!0?c===-1&&(i.push(r),o(i)):c!==-1&&(i.splice(c,1),o(i))}return{isRowExpanded:a,setExpanded:o,updateExpanded:l}}const Al={visibleColumns:Array};function Il(e,t,n){const a=g(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(i=>({name:i,label:i.toUpperCase(),field:i,align:_n(s[i])?"right":"left",sortable:!0})):[]}),o=g(()=>{const{sortBy:s,descending:i}=t.value;return(e.visibleColumns!==void 0?a.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):a.value).map(u=>{const f=u.align||"right",y=`text-${f}`;return{...u,align:f,__iconClass:`q-table__sort-icon q-table__sort-icon--${f}`,__thClass:y+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===s?` sorted ${i===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>y+" "+u.classes:p=>y+" "+u.classes(p):()=>y}})}),l=g(()=>{const s={};return o.value.forEach(i=>{s[i.name]=i}),s}),r=g(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(n.value===!0?1:0));return{colList:a,computedCols:o,computedColsMap:l,computedColspan:r}}const kt="q-table__bottom row items-center",Ca={};ya.forEach(e=>{Ca[e]={}});var Rl=ve({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Ca,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...$e,...ml,...Al,...wl,...Dl,...Ol,...Tl,...Sl},emits:["request","virtualScroll",...bl,...Nl,...ql],setup(e,{slots:t,emit:n}){const a=_e(),{proxy:{$q:o}}=a,l=Me(e,o),{inFullscreen:r,toggleFullscreen:s}=pl(),i=g(()=>typeof e.rowKey=="function"?e.rowKey:d=>d[e.rowKey]),c=Se(null),u=Se(null),f=g(()=>e.grid!==!0&&e.virtualScroll===!0),y=g(()=>" q-table__card"+(l.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),p=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":y.value)+(l.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(r.value===!0?" fullscreen scroll":"")),v=g(()=>p.value+(e.loading===!0?" q-table--loading":""));se(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+p.value,()=>{f.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:h,computedPagination:S,isServerSide:k,requestServerInteraction:P,setPagination:$}=xl(a,Ye),{computedFilterMethod:O}=El(e,$),{isRowExpanded:M,setExpanded:G,updateExpanded:ae}=Bl(e,n),J=g(()=>{let d=e.rows;if(k.value===!0||d.length===0)return d;const{sortBy:_,descending:T}=S.value;return e.filter&&(d=O.value(d,e.filter,ge.value,Ye)),La.value!==null&&(d=za.value(e.rows===d?d.slice():d,_,T)),d}),Q=g(()=>J.value.length),Z=g(()=>{let d=J.value;if(k.value===!0)return d;const{rowsPerPage:_}=S.value;return _!==0&&(_t.value===0&&e.rows!==d?d.length>wt.value&&(d=d.slice(0,wt.value)):d=d.slice(_t.value,wt.value)),d}),{hasSelectionMode:K,singleSelection:D,multipleSelection:w,allRowsSelected:x,someRowsSelected:le,rowsSelectedNumber:Y,isRowSelected:me,clearSelection:ue,updateSelection:ee}=kl(e,n,Z,i),{colList:zn,computedCols:ge,computedColsMap:St,computedColspan:jn}=Il(e,S,K),{columnToSort:La,computedSortMethod:za,sort:Gt}=_l(e,S,zn,$),{firstRowIndex:_t,lastRowIndex:wt,isFirstPage:Kt,isLastPage:Zt,pagesNumber:Et,computedRowsPerPageOptions:ja,computedRowsNumber:Ct,firstPage:Jt,prevPage:en,nextPage:tn,lastPage:nn}=Pl(a,h,S,k,$,Q),Ha=g(()=>Z.value.length===0),Qa=g(()=>{const d={};return ya.forEach(_=>{d[_]=e[_]}),d.virtualScrollItemSize===void 0&&(d.virtualScrollItemSize=e.dense===!0?28:48),d});function Xa(){f.value===!0&&u.value.reset()}function Ya(){if(e.grid===!0)return lo();const d=e.hideHeader!==!0?Wn:null;if(f.value===!0){const T=t["top-row"],N=t["bottom-row"],A={default:X=>Qn(X.item,t.body,X.index)};if(T!==void 0){const X=m("tbody",T({cols:ge.value}));A.before=d===null?()=>X:()=>[d()].concat(X)}else d!==null&&(A.before=d);return N!==void 0&&(A.after=()=>m("tbody",N({cols:ge.value}))),m(il,{ref:u,class:e.tableClass,style:e.tableStyle,...Qa.value,scrollTarget:e.virtualScrollTarget,items:Z.value,type:"__qtable",tableColspan:jn.value,onVirtualScroll:Ua},A)}const _=[Ga()];return d!==null&&_.unshift(d()),Ea({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},_)}function Wa(d,_){if(u.value!==null){u.value.scrollTo(d,_);return}d=parseInt(d,10);const T=c.value.querySelector(`tbody tr:nth-of-type(${d+1})`);if(T!==null){const N=c.value.querySelector(".q-table__middle.scroll"),A=T.offsetTop-e.virtualScrollStickySizeStart,X=A<N.scrollTop?"decrease":"increase";N.scrollTop=A,n("virtualScroll",{index:d,from:0,to:h.value.rowsPerPage-1,direction:X})}}function Ua(d){n("virtualScroll",d)}function Hn(){return[m(ul,{class:"q-table__linear-progress",color:e.color,dark:l.value,indeterminate:!0,trackColor:"transparent"})]}function Qn(d,_,T){const N=i.value(d),A=me(N);if(_!==void 0)return _(Xn({key:N,row:d,pageIndex:T,__trClass:A?"selected":""}));const X=t["body-cell"],j=ge.value.map(re=>{const xt=t[`body-cell-${re.name}`],Pt=xt!==void 0?xt:X;return Pt!==void 0?Pt(Ka({key:N,row:d,pageIndex:T,col:re})):m("td",{class:re.__tdClass(d),style:re.__tdStyle(d)},Ye(re,d))});if(K.value===!0){const re=t["body-selection"],xt=re!==void 0?re(Za({key:N,row:d,pageIndex:T})):[m(dn,{modelValue:A,color:e.color,dark:l.value,dense:e.dense,"onUpdate:modelValue":(Pt,ro)=>{ee([N],[d],Pt,ro)}})];j.unshift(m("td",{class:"q-table--col-auto-width"},xt))}const xe={key:N,class:{selected:A}};return e.onRowClick!==void 0&&(xe.class["cursor-pointer"]=!0,xe.onClick=re=>{n("RowClick",re,d,T)}),e.onRowDblclick!==void 0&&(xe.class["cursor-pointer"]=!0,xe.onDblclick=re=>{n("RowDblclick",re,d,T)}),e.onRowContextmenu!==void 0&&(xe.class["cursor-pointer"]=!0,xe.onContextmenu=re=>{n("RowContextmenu",re,d,T)}),m("tr",xe,j)}function Ga(){const d=t.body,_=t["top-row"],T=t["bottom-row"];let N=Z.value.map((A,X)=>Qn(A,d,X));return _!==void 0&&(N=_({cols:ge.value}).concat(N)),T!==void 0&&(N=N.concat(T({cols:ge.value}))),m("tbody",N)}function Xn(d){return an(d),d.cols=d.cols.map(_=>ot({..._},"value",()=>Ye(_,d.row))),d}function Ka(d){return an(d),ot(d,"value",()=>Ye(d.col,d.row)),d}function Za(d){return an(d),d}function an(d){Object.assign(d,{cols:ge.value,colsMap:St.value,sort:Gt,rowIndex:_t.value+d.pageIndex,color:e.color,dark:l.value,dense:e.dense}),K.value===!0&&ot(d,"selected",()=>me(d.key),(_,T)=>{ee([d.key],[d.row],_,T)}),ot(d,"expand",()=>M(d.key),_=>{ae(d.key,_)})}function Ye(d,_){const T=typeof d.field=="function"?d.field(_):_[d.field];return d.format!==void 0?d.format(T,_):T}const We=g(()=>({pagination:S.value,pagesNumber:Et.value,isFirstPage:Kt.value,isLastPage:Zt.value,firstPage:Jt,prevPage:en,nextPage:tn,lastPage:nn,inFullscreen:r.value,toggleFullscreen:s}));function Ja(){const d=t.top,_=t["top-left"],T=t["top-right"],N=t["top-selection"],A=K.value===!0&&N!==void 0&&Y.value>0,X="q-table__top relative-position row items-center";if(d!==void 0)return m("div",{class:X},[d(We.value)]);let j;if(A===!0?j=N(We.value).slice():(j=[],_!==void 0?j.push(m("div",{class:"q-table__control"},[_(We.value)])):e.title&&j.push(m("div",{class:"q-table__control"},[m("div",{class:["q-table__title",e.titleClass]},e.title)]))),T!==void 0&&(j.push(m("div",{class:"q-table__separator col"})),j.push(m("div",{class:"q-table__control"},[T(We.value)]))),j.length!==0)return m("div",{class:X},j)}const Yn=g(()=>le.value===!0?null:x.value);function Wn(){const d=eo();return e.loading===!0&&t.loading===void 0&&d.push(m("tr",{class:"q-table__progress"},[m("th",{class:"relative-position",colspan:jn.value},Hn())])),m("thead",d)}function eo(){const d=t.header,_=t["header-cell"];if(d!==void 0)return d(on({header:!0})).slice();const T=ge.value.map(N=>{const A=t[`header-cell-${N.name}`],X=A!==void 0?A:_,j=on({col:N});return X!==void 0?X(j):m(el,{key:N.name,props:j},()=>N.label)});if(D.value===!0&&e.grid!==!0)T.unshift(m("th",{class:"q-table--col-auto-width"}," "));else if(w.value===!0){const N=t["header-selection"],A=N!==void 0?N(on({})):[m(dn,{color:e.color,modelValue:Yn.value,dark:l.value,dense:e.dense,"onUpdate:modelValue":Un})];T.unshift(m("th",{class:"q-table--col-auto-width"},A))}return[m("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},T)]}function on(d){return Object.assign(d,{cols:ge.value,sort:Gt,colsMap:St.value,color:e.color,dark:l.value,dense:e.dense}),w.value===!0&&ot(d,"selected",()=>Yn.value,Un),d}function Un(d){le.value===!0&&(d=!1),ee(Z.value.map(i.value),Z.value,d)}const Dt=g(()=>{const d=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?d.reverse():d});function to(){if(e.hideBottom===!0)return;if(Ha.value===!0){if(e.hideNoData===!0)return;const T=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,N=t["no-data"],A=N!==void 0?[N({message:T,icon:o.iconSet.table.warning,filter:e.filter})]:[m(Wt,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),T];return m("div",{class:kt+" q-table__bottom--nodata"},A)}const d=t.bottom;if(d!==void 0)return m("div",{class:kt},[d(We.value)]);const _=e.hideSelectedBanner!==!0&&K.value===!0&&Y.value>0?[m("div",{class:"q-table__control"},[m("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(Y.value)])])]:[];if(e.hidePagination!==!0)return m("div",{class:kt+" justify-end"},ao(_));if(_.length!==0)return m("div",{class:kt},_)}function no(d){$({page:1,rowsPerPage:d.value})}function ao(d){let _;const{rowsPerPage:T}=S.value,N=e.paginationLabel||o.lang.table.pagination,A=t.pagination,X=e.rowsPerPageOptions.length>1;if(d.push(m("div",{class:"q-table__separator col"})),X===!0&&d.push(m("div",{class:"q-table__control"},[m("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),m(Xo,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:T,options:ja.value,displayValue:T===0?o.lang.table.allRows:T,dark:l.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":no})])),A!==void 0)_=A(We.value);else if(_=[m("span",T!==0?{class:"q-table__bottom-item"}:{},[T?N(_t.value+1,Math.min(wt.value,Ct.value),Ct.value):N(1,Q.value,Ct.value)])],T!==0&&Et.value>1){const j={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(j.size="sm"),Et.value>2&&_.push(m(je,{key:"pgFirst",...j,icon:Dt.value[0],disable:Kt.value,onClick:Jt})),_.push(m(je,{key:"pgPrev",...j,icon:Dt.value[1],disable:Kt.value,onClick:en}),m(je,{key:"pgNext",...j,icon:Dt.value[2],disable:Zt.value,onClick:tn})),Et.value>2&&_.push(m(je,{key:"pgLast",...j,icon:Dt.value[3],disable:Zt.value,onClick:nn}))}return d.push(m("div",{class:"q-table__control"},_)),d}function oo(){const d=e.gridHeader===!0?[m("table",{class:"q-table"},[Wn()])]:e.loading===!0&&t.loading===void 0?Hn():void 0;return m("div",{class:"q-table__middle"},d)}function lo(){const d=t.item!==void 0?t.item:_=>{const T=_.cols.map(A=>m("div",{class:"q-table__grid-item-row"},[m("div",{class:"q-table__grid-item-title"},[A.label]),m("div",{class:"q-table__grid-item-value"},[A.value])]));if(K.value===!0){const A=t["body-selection"],X=A!==void 0?A(_):[m(dn,{modelValue:_.selected,color:e.color,dark:l.value,dense:e.dense,"onUpdate:modelValue":(j,xe)=>{ee([_.key],[_.row],j,xe)}})];T.unshift(m("div",{class:"q-table__grid-item-row"},X),m(nl,{dark:l.value}))}const N={class:["q-table__grid-item-card"+y.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(N.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(N.onClick=A=>{n("RowClick",A,_.row,_.pageIndex)}),e.onRowDblclick!==void 0&&(N.onDblclick=A=>{n("RowDblclick",A,_.row,_.pageIndex)})),m("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(_.selected===!0?" q-table__grid-item--selected":"")},[m("div",N,T)])};return m("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},Z.value.map((_,T)=>d(Xn({key:i.value(_),row:_,pageIndex:T}))))}return Object.assign(a.proxy,{requestServerInteraction:P,setPagination:$,firstPage:Jt,prevPage:en,nextPage:tn,lastPage:nn,isRowSelected:me,clearSelection:ue,isRowExpanded:M,setExpanded:G,sort:Gt,resetVirtualScroll:Xa,scrollTo:Wa,getCellValue:Ye}),po(a.proxy,{filteredSortedRows:()=>J.value,computedRows:()=>Z.value,computedRowsNumber:()=>Ct.value}),()=>{const d=[Ja()],_={ref:c,class:v.value};return e.grid===!0?d.push(oo()):Object.assign(_,{class:[_.class,e.cardClass],style:e.cardStyle}),d.push(Ya(),to()),e.loading===!0&&t.loading!==void 0&&d.push(t.loading()),m("div",_,d)}}});/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?la(Object(n),!0).forEach(function(a){Fl(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ft(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(t){return typeof t}:Ft=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qe.apply(this,arguments)}function $l(e,t){if(e==null)return{};var n={},a=Object.keys(e),o,l;for(l=0;l<a.length;l++)o=a[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ml(e,t){if(e==null)return{};var n=$l(e,t),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],!(t.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(n[a]=e[a]))}return n}var Vl="1.15.2";function Te(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var ke=Te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),pt=Te(/Edge/i),ra=Te(/firefox/i),ct=Te(/safari/i)&&!Te(/chrome/i)&&!Te(/android/i),Da=Te(/iP(ad|od|hone)/i),xa=Te(/chrome/i)&&Te(/android/i),Pa={capture:!1,passive:!1};function R(e,t,n){e.addEventListener(t,n,!ke&&Pa)}function I(e,t,n){e.removeEventListener(t,n,!ke&&Pa)}function zt(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Ll(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function pe(e,t,n,a){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&zt(e,t):zt(e,t))||a&&e===n)return e;if(e===n)break}while(e=Ll(e))}return null}var ia=/\s+/g;function ce(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(ia," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(ia," ")}}function E(e,t,n){var a=e&&e.style;if(a){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in a)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),a[t]=n+(typeof n=="string"?"":"px")}}function tt(e,t){var n="";if(typeof e=="string")n=e;else do{var a=E(e,"transform");a&&a!=="none"&&(n=a+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Ta(e,t,n){if(e){var a=e.getElementsByTagName(t),o=0,l=a.length;if(n)for(;o<l;o++)n(a[o],o);return a}return[]}function Ee(){var e=document.scrollingElement;return e||document.documentElement}function U(e,t,n,a,o){if(!(!e.getBoundingClientRect&&e!==window)){var l,r,s,i,c,u,f;if(e!==window&&e.parentNode&&e!==Ee()?(l=e.getBoundingClientRect(),r=l.top,s=l.left,i=l.bottom,c=l.right,u=l.height,f=l.width):(r=0,s=0,i=window.innerHeight,c=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!ke))do if(o&&o.getBoundingClientRect&&(E(o,"transform")!=="none"||n&&E(o,"position")!=="static")){var y=o.getBoundingClientRect();r-=y.top+parseInt(E(o,"border-top-width")),s-=y.left+parseInt(E(o,"border-left-width")),i=r+l.height,c=s+l.width;break}while(o=o.parentNode);if(a&&e!==window){var p=tt(o||e),v=p&&p.a,h=p&&p.d;p&&(r/=h,s/=v,f/=v,u/=h,i=r+u,c=s+f)}return{top:r,left:s,bottom:i,right:c,width:f,height:u}}}function sa(e,t,n){for(var a=Re(e,!0),o=U(e)[t];a;){var l=U(a)[n],r=void 0;if(n==="top"||n==="left"?r=o>=l:r=o<=l,!r)return a;if(a===Ee())break;a=Re(a,!1)}return!1}function nt(e,t,n,a){for(var o=0,l=0,r=e.children;l<r.length;){if(r[l].style.display!=="none"&&r[l]!==C.ghost&&(a||r[l]!==C.dragged)&&pe(r[l],n.draggable,e,!1)){if(o===t)return r[l];o++}l++}return null}function Fn(e,t){for(var n=e.lastElementChild;n&&(n===C.ghost||E(n,"display")==="none"||t&&!zt(n,t));)n=n.previousElementSibling;return n||null}function he(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==C.clone&&(!t||zt(e,t))&&n++;return n}function ua(e){var t=0,n=0,a=Ee();if(e)do{var o=tt(e),l=o.a,r=o.d;t+=e.scrollLeft*l,n+=e.scrollTop*r}while(e!==a&&(e=e.parentNode));return[t,n]}function zl(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[n][a])return Number(n)}return-1}function Re(e,t){if(!e||!e.getBoundingClientRect)return Ee();var n=e,a=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=E(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ee();if(a||t)return n;a=!0}}while(n=n.parentNode);return Ee()}function jl(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function fn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var dt;function qa(e,t){return function(){if(!dt){var n=arguments,a=this;n.length===1?e.call(a,n[0]):e.apply(a,n),dt=setTimeout(function(){dt=void 0},t)}}}function Hl(){clearTimeout(dt),dt=void 0}function ka(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Oa(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Na(e,t,n){var a={};return Array.from(e.children).forEach(function(o){var l,r,s,i;if(!(!pe(o,t.draggable,e,!1)||o.animated||o===n)){var c=U(o);a.left=Math.min((l=a.left)!==null&&l!==void 0?l:1/0,c.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,c.top),a.right=Math.max((s=a.right)!==null&&s!==void 0?s:-1/0,c.right),a.bottom=Math.max((i=a.bottom)!==null&&i!==void 0?i:-1/0,c.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var fe="Sortable"+new Date().getTime();function Ql(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(E(o,"display")==="none"||o===C.ghost)){e.push({target:o,rect:U(o)});var l=De({},e[e.length-1].rect);if(o.thisAnimationDuration){var r=tt(o,!0);r&&(l.top-=r.f,l.left-=r.e)}o.fromRect=l}})}},addAnimationState:function(a){e.push(a)},removeAnimationState:function(a){e.splice(zl(e,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(t),typeof a=="function"&&a();return}var l=!1,r=0;e.forEach(function(s){var i=0,c=s.target,u=c.fromRect,f=U(c),y=c.prevFromRect,p=c.prevToRect,v=s.rect,h=tt(c,!0);h&&(f.top-=h.f,f.left-=h.e),c.toRect=f,c.thisAnimationDuration&&fn(y,f)&&!fn(u,f)&&(v.top-f.top)/(v.left-f.left)===(u.top-f.top)/(u.left-f.left)&&(i=Yl(v,y,p,o.options)),fn(f,u)||(c.prevFromRect=u,c.prevToRect=f,i||(i=o.options.animation),o.animate(c,v,f,i)),i&&(l=!0,r=Math.max(r,i),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},i),c.thisAnimationDuration=i)}),clearTimeout(t),l?t=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),e=[]},animate:function(a,o,l,r){if(r){E(a,"transition",""),E(a,"transform","");var s=tt(this.el),i=s&&s.a,c=s&&s.d,u=(o.left-l.left)/(i||1),f=(o.top-l.top)/(c||1);a.animatingX=!!u,a.animatingY=!!f,E(a,"transform","translate3d("+u+"px,"+f+"px,0)"),this.forRepaintDummy=Xl(a),E(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){E(a,"transition",""),E(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function Xl(e){return e.offsetWidth}function Yl(e,t,n,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*a.animation}var Ge=[],vn={initializeByDefault:!0},yt={mount:function(t){for(var n in vn)vn.hasOwnProperty(n)&&!(n in t)&&(t[n]=vn[n]);Ge.forEach(function(a){if(a.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ge.push(t)},pluginEvent:function(t,n,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var l=t+"Global";Ge.forEach(function(r){!n[r.pluginName]||(n[r.pluginName][l]&&n[r.pluginName][l](De({sortable:n},a)),n.options[r.pluginName]&&n[r.pluginName][t]&&n[r.pluginName][t](De({sortable:n},a)))})},initializePlugins:function(t,n,a,o){Ge.forEach(function(s){var i=s.pluginName;if(!(!t.options[i]&&!s.initializeByDefault)){var c=new s(t,n,t.options);c.sortable=t,c.options=t.options,t[i]=c,qe(a,c.defaults)}});for(var l in t.options)if(!!t.options.hasOwnProperty(l)){var r=this.modifyOption(t,l,t.options[l]);typeof r!="undefined"&&(t.options[l]=r)}},getEventProperties:function(t,n){var a={};return Ge.forEach(function(o){typeof o.eventProperties=="function"&&qe(a,o.eventProperties.call(n[o.pluginName],t))}),a},modifyOption:function(t,n,a){var o;return Ge.forEach(function(l){!t[l.pluginName]||l.optionListeners&&typeof l.optionListeners[n]=="function"&&(o=l.optionListeners[n].call(t[l.pluginName],a))}),o}};function Wl(e){var t=e.sortable,n=e.rootEl,a=e.name,o=e.targetEl,l=e.cloneEl,r=e.toEl,s=e.fromEl,i=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,f=e.newDraggableIndex,y=e.originalEvent,p=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[fe],!!t){var h,S=t.options,k="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!ke&&!pt?h=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(a,!0,!0)),h.to=r||n,h.from=s||n,h.item=o||n,h.clone=l,h.oldIndex=i,h.newIndex=c,h.oldDraggableIndex=u,h.newDraggableIndex=f,h.originalEvent=y,h.pullMode=p?p.lastPutMode:void 0;var P=De(De({},v),yt.getEventProperties(a,t));for(var $ in P)h[$]=P[$];n&&n.dispatchEvent(h),S[k]&&S[k].call(t,h)}}var Ul=["evt"],ie=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,l=Ml(a,Ul);yt.pluginEvent.bind(C)(t,n,De({dragEl:b,parentEl:H,ghostEl:q,rootEl:V,nextEl:ze,lastDownEl:$t,cloneEl:z,cloneHidden:Ie,dragStarted:it,putSortable:te,activeSortable:C.active,originalEvent:o,oldIndex:et,oldDraggableIndex:ft,newIndex:de,newDraggableIndex:Be,hideGhostForTarget:Ra,unhideGhostForTarget:Fa,cloneNowHidden:function(){Ie=!0},cloneNowShown:function(){Ie=!1},dispatchSortableEvent:function(s){oe({sortable:n,name:s,originalEvent:o})}},l))};function oe(e){Wl(De({putSortable:te,cloneEl:z,targetEl:b,rootEl:V,oldIndex:et,oldDraggableIndex:ft,newIndex:de,newDraggableIndex:Be},e))}var b,H,q,V,ze,$t,z,Ie,et,de,ft,Be,Ot,te,Je=!1,jt=!1,Ht=[],Ve,be,gn,hn,ca,da,it,Ke,vt,gt=!1,Nt=!1,Mt,ne,mn=[],Dn=!1,Qt=[],Ut=typeof document!="undefined",Bt=Da,fa=pt||ke?"cssFloat":"float",Gl=Ut&&!xa&&!Da&&"draggable"in document.createElement("div"),Ba=function(){if(!!Ut){if(ke)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Aa=function(t,n){var a=E(t),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),l=nt(t,0,n),r=nt(t,1,n),s=l&&E(l),i=r&&E(r),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+U(l).width,u=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+U(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return r&&(i.clear==="both"||i.clear===f)?"vertical":"horizontal"}return l&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=o&&a[fa]==="none"||r&&a[fa]==="none"&&c+u>o)?"vertical":"horizontal"},Kl=function(t,n,a){var o=a?t.left:t.top,l=a?t.right:t.bottom,r=a?t.width:t.height,s=a?n.left:n.top,i=a?n.right:n.bottom,c=a?n.width:n.height;return o===s||l===i||o+r/2===s+c/2},Zl=function(t,n){var a;return Ht.some(function(o){var l=o[fe].options.emptyInsertThreshold;if(!(!l||Fn(o))){var r=U(o),s=t>=r.left-l&&t<=r.right+l,i=n>=r.top-l&&n<=r.bottom+l;if(s&&i)return a=o}}),a},Ia=function(t){function n(l,r){return function(s,i,c,u){var f=s.options.group.name&&i.options.group.name&&s.options.group.name===i.options.group.name;if(l==null&&(r||f))return!0;if(l==null||l===!1)return!1;if(r&&l==="clone")return l;if(typeof l=="function")return n(l(s,i,c,u),r)(s,i,c,u);var y=(r?s:i).options.group.name;return l===!0||typeof l=="string"&&l===y||l.join&&l.indexOf(y)>-1}}var a={},o=t.group;(!o||Ft(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=n(o.pull,!0),a.checkPut=n(o.put),a.revertClone=o.revertClone,t.group=a},Ra=function(){!Ba&&q&&E(q,"display","none")},Fa=function(){!Ba&&q&&E(q,"display","")};Ut&&!xa&&document.addEventListener("click",function(e){if(jt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),jt=!1,!1},!0);var Le=function(t){if(b){t=t.touches?t.touches[0]:t;var n=Zl(t.clientX,t.clientY);if(n){var a={};for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);a.target=a.rootEl=n,a.preventDefault=void 0,a.stopPropagation=void 0,n[fe]._onDragOver(a)}}},Jl=function(t){b&&b.parentNode[fe]._isOutsideThisEl(t.target)};function C(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=qe({},t),e[fe]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Aa(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,s){r.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:C.supportPointer!==!1&&"PointerEvent"in window&&!ct,emptyInsertThreshold:5};yt.initializePlugins(this,e,n);for(var a in n)!(a in t)&&(t[a]=n[a]);Ia(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:Gl,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?R(e,"pointerdown",this._onTapStart):(R(e,"mousedown",this._onTapStart),R(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(R(e,"dragover",this),R(e,"dragenter",this)),Ht.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),qe(this,Ql())}C.prototype={constructor:C,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ke=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,b):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,a=this.el,o=this.options,l=o.preventOnFilter,r=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,i=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||i,u=o.filter;if(ir(a),!b&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ct&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=pe(i,o.draggable,a,!1),!(i&&i.animated)&&$t!==i)){if(et=he(i),ft=he(i,o.draggable),typeof u=="function"){if(u.call(this,t,i,this)){oe({sortable:n,rootEl:c,name:"filter",targetEl:i,toEl:a,fromEl:a}),ie("filter",n,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=pe(c,f.trim(),a,!1),f)return oe({sortable:n,rootEl:f,name:"filter",targetEl:i,fromEl:a,toEl:a}),ie("filter",n,{evt:t}),!0}),u)){l&&t.cancelable&&t.preventDefault();return}o.handle&&!pe(c,o.handle,a,!1)||this._prepareDragStart(t,s,i)}}},_prepareDragStart:function(t,n,a){var o=this,l=o.el,r=o.options,s=l.ownerDocument,i;if(a&&!b&&a.parentNode===l){var c=U(a);if(V=l,b=a,H=b.parentNode,ze=b.nextSibling,$t=a,Ot=r.group,C.dragged=b,Ve={target:b,clientX:(n||t).clientX,clientY:(n||t).clientY},ca=Ve.clientX-c.left,da=Ve.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,b.style["will-change"]="all",i=function(){if(ie("delayEnded",o,{evt:t}),C.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!ra&&o.nativeDraggable&&(b.draggable=!0),o._triggerDragStart(t,n),oe({sortable:o,name:"choose",originalEvent:t}),ce(b,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){Ta(b,u.trim(),bn)}),R(s,"dragover",Le),R(s,"mousemove",Le),R(s,"touchmove",Le),R(s,"mouseup",o._onDrop),R(s,"touchend",o._onDrop),R(s,"touchcancel",o._onDrop),ra&&this.nativeDraggable&&(this.options.touchStartThreshold=4,b.draggable=!0),ie("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(pt||ke))){if(C.eventCanceled){this._onDrop();return}R(s,"mouseup",o._disableDelayedDrag),R(s,"touchend",o._disableDelayedDrag),R(s,"touchcancel",o._disableDelayedDrag),R(s,"mousemove",o._delayedDragTouchMoveHandler),R(s,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&R(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,r.delay)}else i()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){b&&bn(b),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;I(t,"mouseup",this._disableDelayedDrag),I(t,"touchend",this._disableDelayedDrag),I(t,"touchcancel",this._disableDelayedDrag),I(t,"mousemove",this._delayedDragTouchMoveHandler),I(t,"touchmove",this._delayedDragTouchMoveHandler),I(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?R(document,"pointermove",this._onTouchMove):n?R(document,"touchmove",this._onTouchMove):R(document,"mousemove",this._onTouchMove):(R(b,"dragend",this),R(V,"dragstart",this._onDragStart));try{document.selection?Vt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Je=!1,V&&b){ie("dragStarted",this,{evt:n}),this.nativeDraggable&&R(document,"dragover",Jl);var a=this.options;!t&&ce(b,a.dragClass,!1),ce(b,a.ghostClass,!0),C.active=this,t&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(be){this._lastX=be.clientX,this._lastY=be.clientY,Ra();for(var t=document.elementFromPoint(be.clientX,be.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(be.clientX,be.clientY),t!==n);)n=t;if(b.parentNode[fe]._isOutsideThisEl(t),n)do{if(n[fe]){var a=void 0;if(a=n[fe]._onDragOver({clientX:be.clientX,clientY:be.clientY,target:t,rootEl:n}),a&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Fa()}},_onTouchMove:function(t){if(Ve){var n=this.options,a=n.fallbackTolerance,o=n.fallbackOffset,l=t.touches?t.touches[0]:t,r=q&&tt(q,!0),s=q&&r&&r.a,i=q&&r&&r.d,c=Bt&&ne&&ua(ne),u=(l.clientX-Ve.clientX+o.x)/(s||1)+(c?c[0]-mn[0]:0)/(s||1),f=(l.clientY-Ve.clientY+o.y)/(i||1)+(c?c[1]-mn[1]:0)/(i||1);if(!C.active&&!Je){if(a&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<a)return;this._onDragStart(t,!0)}if(q){r?(r.e+=u-(gn||0),r.f+=f-(hn||0)):r={a:1,b:0,c:0,d:1,e:u,f};var y="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");E(q,"webkitTransform",y),E(q,"mozTransform",y),E(q,"msTransform",y),E(q,"transform",y),gn=u,hn=f,be=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!q){var t=this.options.fallbackOnBody?document.body:V,n=U(b,!0,Bt,!0,t),a=this.options;if(Bt){for(ne=t;E(ne,"position")==="static"&&E(ne,"transform")==="none"&&ne!==document;)ne=ne.parentNode;ne!==document.body&&ne!==document.documentElement?(ne===document&&(ne=Ee()),n.top+=ne.scrollTop,n.left+=ne.scrollLeft):ne=Ee(),mn=ua(ne)}q=b.cloneNode(!0),ce(q,a.ghostClass,!1),ce(q,a.fallbackClass,!0),ce(q,a.dragClass,!0),E(q,"transition",""),E(q,"transform",""),E(q,"box-sizing","border-box"),E(q,"margin",0),E(q,"top",n.top),E(q,"left",n.left),E(q,"width",n.width),E(q,"height",n.height),E(q,"opacity","0.8"),E(q,"position",Bt?"absolute":"fixed"),E(q,"zIndex","100000"),E(q,"pointerEvents","none"),C.ghost=q,t.appendChild(q),E(q,"transform-origin",ca/parseInt(q.style.width)*100+"% "+da/parseInt(q.style.height)*100+"%")}},_onDragStart:function(t,n){var a=this,o=t.dataTransfer,l=a.options;if(ie("dragStart",this,{evt:t}),C.eventCanceled){this._onDrop();return}ie("setupClone",this),C.eventCanceled||(z=Oa(b),z.removeAttribute("id"),z.draggable=!1,z.style["will-change"]="",this._hideClone(),ce(z,this.options.chosenClass,!1),C.clone=z),a.cloneId=Vt(function(){ie("clone",a),!C.eventCanceled&&(a.options.removeCloneOnHide||V.insertBefore(z,b),a._hideClone(),oe({sortable:a,name:"clone"}))}),!n&&ce(b,l.dragClass,!0),n?(jt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(I(document,"mouseup",a._onDrop),I(document,"touchend",a._onDrop),I(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(a,o,b)),R(document,"drop",a),E(b,"transform","translateZ(0)")),Je=!0,a._dragStartId=Vt(a._dragStarted.bind(a,n,t)),R(document,"selectstart",a),it=!0,ct&&E(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,a=t.target,o,l,r,s=this.options,i=s.group,c=C.active,u=Ot===i,f=s.sort,y=te||c,p,v=this,h=!1;if(Dn)return;function S(ue,ee){ie(ue,v,De({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:r,dragRect:o,targetRect:l,canSort:f,fromSortable:y,target:a,completed:P,onMove:function(ge,St){return At(V,n,b,o,ge,U(ge),t,St)},changed:$},ee))}function k(){S("dragOverAnimationCapture"),v.captureAnimationState(),v!==y&&y.captureAnimationState()}function P(ue){return S("dragOverCompleted",{insertion:ue}),ue&&(u?c._hideClone():c._showClone(v),v!==y&&(ce(b,te?te.options.ghostClass:c.options.ghostClass,!1),ce(b,s.ghostClass,!0)),te!==v&&v!==C.active?te=v:v===C.active&&te&&(te=null),y===v&&(v._ignoreWhileAnimating=a),v.animateAll(function(){S("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(a===b&&!b.animated||a===n&&!a.animated)&&(Ke=null),!s.dragoverBubble&&!t.rootEl&&a!==document&&(b.parentNode[fe]._isOutsideThisEl(t.target),!ue&&Le(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function $(){de=he(b),Be=he(b,s.draggable),oe({sortable:v,name:"change",toEl:n,newIndex:de,newDraggableIndex:Be,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),a=pe(a,s.draggable,n,!0),S("dragOver"),C.eventCanceled)return h;if(b.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||v._ignoreWhileAnimating===a)return P(!1);if(jt=!1,c&&!s.disabled&&(u?f||(r=H!==V):te===this||(this.lastPutMode=Ot.checkPull(this,c,b,t))&&i.checkPut(this,c,b,t))){if(p=this._getDirection(t,a)==="vertical",o=U(b),S("dragOverValid"),C.eventCanceled)return h;if(r)return H=V,k(),this._hideClone(),S("revert"),C.eventCanceled||(ze?V.insertBefore(b,ze):V.appendChild(b)),P(!0);var O=Fn(n,s.draggable);if(!O||ar(t,p,this)&&!O.animated){if(O===b)return P(!1);if(O&&n===t.target&&(a=O),a&&(l=U(a)),At(V,n,b,o,a,l,t,!!a)!==!1)return k(),O&&O.nextSibling?n.insertBefore(b,O.nextSibling):n.appendChild(b),H=n,$(),P(!0)}else if(O&&nr(t,p,this)){var M=nt(n,0,s,!0);if(M===b)return P(!1);if(a=M,l=U(a),At(V,n,b,o,a,l,t,!1)!==!1)return k(),n.insertBefore(b,M),H=n,$(),P(!0)}else if(a.parentNode===n){l=U(a);var G=0,ae,J=b.parentNode!==n,Q=!Kl(b.animated&&b.toRect||o,a.animated&&a.toRect||l,p),Z=p?"top":"left",K=sa(a,"top","top")||sa(b,"top","top"),D=K?K.scrollTop:void 0;Ke!==a&&(ae=l[Z],gt=!1,Nt=!Q&&s.invertSwap||J),G=or(t,a,l,p,Q?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Nt,Ke===a);var w;if(G!==0){var x=he(b);do x-=G,w=H.children[x];while(w&&(E(w,"display")==="none"||w===q))}if(G===0||w===a)return P(!1);Ke=a,vt=G;var le=a.nextElementSibling,Y=!1;Y=G===1;var me=At(V,n,b,o,a,l,t,Y);if(me!==!1)return(me===1||me===-1)&&(Y=me===1),Dn=!0,setTimeout(tr,30),k(),Y&&!le?n.appendChild(b):a.parentNode.insertBefore(b,Y?le:a),K&&ka(K,0,D-K.scrollTop),H=b.parentNode,ae!==void 0&&!Nt&&(Mt=Math.abs(ae-U(a)[Z])),$(),P(!0)}if(n.contains(b))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",Le),I(document,"mousemove",Le),I(document,"touchmove",Le)},_offUpEvents:function(){var t=this.el.ownerDocument;I(t,"mouseup",this._onDrop),I(t,"touchend",this._onDrop),I(t,"pointerup",this._onDrop),I(t,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(t){var n=this.el,a=this.options;if(de=he(b),Be=he(b,a.draggable),ie("drop",this,{evt:t}),H=b&&b.parentNode,de=he(b),Be=he(b,a.draggable),C.eventCanceled){this._nulling();return}Je=!1,Nt=!1,gt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xn(this.cloneId),xn(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ct&&E(document.body,"user-select",""),E(b,"transform",""),t&&(it&&(t.cancelable&&t.preventDefault(),!a.dropBubble&&t.stopPropagation()),q&&q.parentNode&&q.parentNode.removeChild(q),(V===H||te&&te.lastPutMode!=="clone")&&z&&z.parentNode&&z.parentNode.removeChild(z),b&&(this.nativeDraggable&&I(b,"dragend",this),bn(b),b.style["will-change"]="",it&&!Je&&ce(b,te?te.options.ghostClass:this.options.ghostClass,!1),ce(b,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:t}),V!==H?(de>=0&&(oe({rootEl:H,name:"add",toEl:H,fromEl:V,originalEvent:t}),oe({sortable:this,name:"remove",toEl:H,originalEvent:t}),oe({rootEl:H,name:"sort",toEl:H,fromEl:V,originalEvent:t}),oe({sortable:this,name:"sort",toEl:H,originalEvent:t})),te&&te.save()):de!==et&&de>=0&&(oe({sortable:this,name:"update",toEl:H,originalEvent:t}),oe({sortable:this,name:"sort",toEl:H,originalEvent:t})),C.active&&((de==null||de===-1)&&(de=et,Be=ft),oe({sortable:this,name:"end",toEl:H,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){ie("nulling",this),V=b=H=q=ze=z=$t=Ie=Ve=be=it=de=Be=et=ft=Ke=vt=te=Ot=C.dragged=C.ghost=C.clone=C.active=null,Qt.forEach(function(t){t.checked=!0}),Qt.length=gn=hn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":b&&(this._onDragOver(t),er(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,a=this.el.children,o=0,l=a.length,r=this.options;o<l;o++)n=a[o],pe(n,r.draggable,this.el,!1)&&t.push(n.getAttribute(r.dataIdAttr)||rr(n));return t},sort:function(t,n){var a={},o=this.el;this.toArray().forEach(function(l,r){var s=o.children[r];pe(s,this.options.draggable,o,!1)&&(a[l]=s)},this),n&&this.captureAnimationState(),t.forEach(function(l){a[l]&&(o.removeChild(a[l]),o.appendChild(a[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return pe(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var a=this.options;if(n===void 0)return a[t];var o=yt.modifyOption(this,t,n);typeof o!="undefined"?a[t]=o:a[t]=n,t==="group"&&Ia(a)},destroy:function(){ie("destroy",this);var t=this.el;t[fe]=null,I(t,"mousedown",this._onTapStart),I(t,"touchstart",this._onTapStart),I(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(t,"dragover",this),I(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ht.splice(Ht.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ie){if(ie("hideClone",this),C.eventCanceled)return;E(z,"display","none"),this.options.removeCloneOnHide&&z.parentNode&&z.parentNode.removeChild(z),Ie=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ie){if(ie("showClone",this),C.eventCanceled)return;b.parentNode==V&&!this.options.group.revertClone?V.insertBefore(z,b):ze?V.insertBefore(z,ze):V.appendChild(z),this.options.group.revertClone&&this.animate(b,z),E(z,"display",""),Ie=!1}}};function er(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function At(e,t,n,a,o,l,r,s){var i,c=e[fe],u=c.options.onMove,f;return window.CustomEvent&&!ke&&!pt?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=t,i.from=e,i.dragged=n,i.draggedRect=a,i.related=o||t,i.relatedRect=l||U(t),i.willInsertAfter=s,i.originalEvent=r,e.dispatchEvent(i),u&&(f=u.call(c,i,r)),f}function bn(e){e.draggable=!1}function tr(){Dn=!1}function nr(e,t,n){var a=U(nt(n.el,0,n.options,!0)),o=Na(n.el,n.options,q),l=10;return t?e.clientX<o.left-l||e.clientY<a.top&&e.clientX<a.right:e.clientY<o.top-l||e.clientY<a.bottom&&e.clientX<a.left}function ar(e,t,n){var a=U(Fn(n.el,n.options.draggable)),o=Na(n.el,n.options,q),l=10;return t?e.clientX>o.right+l||e.clientY>a.bottom&&e.clientX>a.left:e.clientY>o.bottom+l||e.clientX>a.right&&e.clientY>a.top}function or(e,t,n,a,o,l,r,s){var i=a?e.clientY:e.clientX,c=a?n.height:n.width,u=a?n.top:n.left,f=a?n.bottom:n.right,y=!1;if(!r){if(s&&Mt<c*o){if(!gt&&(vt===1?i>u+c*l/2:i<f-c*l/2)&&(gt=!0),gt)y=!0;else if(vt===1?i<u+Mt:i>f-Mt)return-vt}else if(i>u+c*(1-o)/2&&i<f-c*(1-o)/2)return lr(t)}return y=y||r,y&&(i<u+c*l/2||i>f-c*l/2)?i>u+c/2?1:-1:0}function lr(e){return he(b)<he(e)?1:-1}function rr(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function ir(e){Qt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var a=t[n];a.checked&&Qt.push(a)}}function Vt(e){return setTimeout(e,0)}function xn(e){return clearTimeout(e)}Ut&&R(document,"touchmove",function(e){(C.active||Je)&&e.cancelable&&e.preventDefault()});C.utils={on:R,off:I,css:E,find:Ta,is:function(t,n){return!!pe(t,n,t,!1)},extend:jl,throttle:qa,closest:pe,toggleClass:ce,clone:Oa,index:he,nextTick:Vt,cancelNextTick:xn,detectDirection:Aa,getChild:nt};C.get=function(e){return e[fe]};C.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(C.utils=De(De({},C.utils),a.utils)),yt.mount(a)})};C.create=function(e,t){return new C(e,t)};C.version=Vl;var W=[],st,Pn,Tn=!1,pn,yn,Xt,ut;function sr(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var a=n.originalEvent;this.sortable.nativeDraggable?R(document,"dragover",this._handleAutoScroll):this.options.supportPointer?R(document,"pointermove",this._handleFallbackAutoScroll):a.touches?R(document,"touchmove",this._handleFallbackAutoScroll):R(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var a=n.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),va(),Lt(),Hl()},nulling:function(){Xt=Pn=st=Tn=ut=pn=yn=null,W.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,a){var o=this,l=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(l,r);if(Xt=n,a||this.options.forceAutoScrollFallback||pt||ke||ct){Sn(n,this.options,s,a);var i=Re(s,!0);Tn&&(!ut||l!==pn||r!==yn)&&(ut&&va(),ut=setInterval(function(){var c=Re(document.elementFromPoint(l,r),!0);c!==i&&(i=c,Lt()),Sn(n,o.options,c,a)},10),pn=l,yn=r)}else{if(!this.options.bubbleScroll||Re(s,!0)===Ee()){Lt();return}Sn(n,this.options,Re(s,!1),!1)}}},qe(e,{pluginName:"scroll",initializeByDefault:!0})}function Lt(){W.forEach(function(e){clearInterval(e.pid)}),W=[]}function va(){clearInterval(ut)}var Sn=qa(function(e,t,n,a){if(!!t.scroll){var o=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,s=t.scrollSpeed,i=Ee(),c=!1,u;Pn!==n&&(Pn=n,Lt(),st=t.scroll,u=t.scrollFn,st===!0&&(st=Re(n,!0)));var f=0,y=st;do{var p=y,v=U(p),h=v.top,S=v.bottom,k=v.left,P=v.right,$=v.width,O=v.height,M=void 0,G=void 0,ae=p.scrollWidth,J=p.scrollHeight,Q=E(p),Z=p.scrollLeft,K=p.scrollTop;p===i?(M=$<ae&&(Q.overflowX==="auto"||Q.overflowX==="scroll"||Q.overflowX==="visible"),G=O<J&&(Q.overflowY==="auto"||Q.overflowY==="scroll"||Q.overflowY==="visible")):(M=$<ae&&(Q.overflowX==="auto"||Q.overflowX==="scroll"),G=O<J&&(Q.overflowY==="auto"||Q.overflowY==="scroll"));var D=M&&(Math.abs(P-o)<=r&&Z+$<ae)-(Math.abs(k-o)<=r&&!!Z),w=G&&(Math.abs(S-l)<=r&&K+O<J)-(Math.abs(h-l)<=r&&!!K);if(!W[f])for(var x=0;x<=f;x++)W[x]||(W[x]={});(W[f].vx!=D||W[f].vy!=w||W[f].el!==p)&&(W[f].el=p,W[f].vx=D,W[f].vy=w,clearInterval(W[f].pid),(D!=0||w!=0)&&(c=!0,W[f].pid=setInterval(function(){a&&this.layer===0&&C.active._onTouchMove(Xt);var le=W[this.layer].vy?W[this.layer].vy*s:0,Y=W[this.layer].vx?W[this.layer].vx*s:0;typeof u=="function"&&u.call(C.dragged.parentNode[fe],Y,le,e,Xt,W[this.layer].el)!=="continue"||ka(W[this.layer].el,Y,le)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&y!==i&&(y=Re(y,!1)));Tn=c}},30),$a=function(t){var n=t.originalEvent,a=t.putSortable,o=t.dragEl,l=t.activeSortable,r=t.dispatchSortableEvent,s=t.hideGhostForTarget,i=t.unhideGhostForTarget;if(!!n){var c=a||l;s();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY);i(),c&&!c.el.contains(f)&&(r("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function $n(){}$n.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,a=t.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=nt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),a&&a.animateAll()},drop:$a};qe($n,{pluginName:"revertOnSpill"});function Mn(){}Mn.prototype={onSpill:function(t){var n=t.dragEl,a=t.putSortable,o=a||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:$a};qe(Mn,{pluginName:"removeOnSpill"});C.mount(new sr);C.mount(Mn,$n);var Yt;(e=>{e.shape=yo.shape.pick(["firstName","lastName","phone","email","organization"]).shape({eventName:It().required(),date:So().min(new Date,"Date can't be before today").required(),country:It().required(),text:It().nullable()})})(Yt||(Yt={}));class Ma{constructor(){ln(this,"db",_o());ln(this,"collectionRef",wo())}async create(t){var c,u,f;const n=Ne(this.collectionRef,rt("eventName","==",t.eventName));if((await ta(n)).data().count>0)throw new ht("INVALID DATA",`Event name ${t.eventName} is already taken`);const o=Ne(this.collectionRef,sn("position","desc"),rn(1)),r=(c=(await Ze(o)).docs[0])==null?void 0:c.data(),s=(u=r==null?void 0:r.position)!=null?u:0,i=await Eo(this.collectionRef,{firstName:t.firstName,lastName:t.lastName,email:t.email,organization:t.organization,phone:t.phone,country:t.country,eventName:t.eventName,date:typeof t.date=="string"?new Date(t.date):t.date,position:s+1,text:(f=t.text)!=null?f:null});return Tt(this.db,i.path)}async getPositionByOffset(t){const n=Ne(this.collectionRef,sn("position","asc"),rn(t)),a=await Ze(n);return a.docs[a.docs.length-1].data().position}async fetchListData(t){const n=await this.getPositionByOffset((t.page-1)*t.rowsPerPage+1),a=Ne(this.collectionRef,sn("position","asc"),Co(n),rn(t.rowsPerPage));return(await Ze(a)).docs.map(r=>r.data())}async fetchListTotal(){const t=Ne(this.collectionRef);return(await ta(t)).data().count}async fetchList(t){const n=await Promise.all([this.fetchListData(t),this.fetchListTotal()]);return{data:n[0],total:n[1]}}async delete(t){const n=await this.findOneByEventName(t);return await Do(Tt(this.collectionRef,n.id)),n}async findOneByEventName(t){var r,s;const n=Ne(this.collectionRef,rt("eventName","==",t)),a=await Ze(n),o=a.docs[0],l=(s=(r=a.docs[0])==null?void 0:r.data())!=null?s:null;if(!l)throw new ht("NOT FOUND",`Event with name ${t} not found`);return{...l,id:o.id}}async patchOneByEventName(t,n){const a=await this.findOneByEventName(t);return await xo(Tt(this.collectionRef,a.id),n),this.findOneByEventName(t)}async reoder(t,n){if(n===t)return;const a=Math.min(n,t),o=Math.max(n,t),l=Ne(this.collectionRef,rt("position",">=",a),rt("position","<=",o)),i=(await Ze(l)).docs.map(p=>({id:p.id,position:p.data().position,e:p.data().eventName}));i.sort((p,v)=>p.position-v.position);const c=t-i[0].position,u=n-i[0].position,f=i[c];i.splice(c,1),i.splice(u,0,f),i.forEach((p,v)=>{p.position=v+a});const y=Po(this.db);i.forEach(p=>{const v=Tt(this.collectionRef,p.id);y.update(v,{position:p.position})}),await y.commit()}}const bt=Bn("event-list",()=>{const e=new Ma,t=we(Pe("unset")),n=we({page:1,rowsPerPage:5,sortBy:"position",descending:!1}),a=g(()=>{var v,h;return Math.ceil(((h=(v=t.data)==null?void 0:v.total)!=null?h:0)/n.rowsPerPage)}),o=()=>Ae({state:t,action:e.fetchList(n),onSuccess:v=>{t.data||(t.data={data:[],total:0});const h=t.data.data.reduce((k,P)=>({...k,[P.eventName]:P}),{});v.data.forEach(k=>h[k.eventName]=k);const S=Object.values(h);S.sort((k,P)=>k.position-P.position),t.data.data=S,t.data.total=v.total},onError:v=>He.error(v.message)});se(()=>[n.page,n.rowsPerPage],o);const l=v=>n.page=v,r=we(Pe("unset")),s=v=>Ae({state:r,action:e.create(v),onSuccess:()=>o(),onError:h=>He.error(h.message)}),i=we(Pe("unset")),c=v=>Ae({state:i,action:e.delete(v),onSuccess:()=>{!t.data||(t.data.data=t.data.data.filter(h=>h.eventName!==v))},onError:h=>He.error(h.message)}),u=we(Pe("unset")),f=(v,h)=>Ae({state:u,action:e.patchOneByEventName(v,h),onSuccess:S=>{!t.data||(t.data.data=t.data.data.map(k=>k.eventName===v?S:k))},onError:S=>He.error(S.message)}),y=we(Pe("unset"));return{list:t,listOpts:n,fetchList:o,changePage:l,totalPages:a,create:s,createState:r,deleteOne:c,deleteOneState:i,reorderState:y,reorder:(v,h)=>Ae({state:y,action:e.reoder(v,h),onSuccess:o}),patchOneState:u,patchOneEvent:f}}),ur=Bn("event-single",()=>{const e=new Ma,t=bt(),n=we(Pe("unset")),a=i=>Ae({state:n,action:e.findOneByEventName(i),onSuccess:c=>{n.data=c},onError:c=>He.error(c.message)}),o=we(Pe("unset")),l=i=>Ae({state:o,action:t.deleteOne(i),onSuccess:()=>{n.data=null},onError:c=>He.error(c.message)}),r=we(Pe("unset"));return{event:n,fetchEvent:a,deleteState:o,deleteEvent:l,editState:r,editEvent:(i,c)=>Ae({state:r,action:t.patchOneEvent(i,c),onSuccess:u=>{u instanceof ht||(n.data=u)},onError:u=>He.error(u.message)})}});var at=ve({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=g(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>m(e.tag,{class:n.value},Ce(t.default))}}),Vn=ve({name:"QCardActions",props:{...To,vertical:Boolean},setup(e,{slots:t}){const n=qo(e),a=g(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>m("div",{class:a.value},Ce(t.default))}}),Ln=ve({name:"QCard",props:{...$e,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=_e(),a=Me(e,n),o=g(()=>"q-card"+(a.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>m(e.tag,{class:o.value},Ce(t.default))}});const cr={class:"text-lg c-primary"},dr={class:"c-tertiary"},fr=Fe({__name:"AttentionDialog",props:{modelValue:{type:Boolean},footerLoading:{type:Boolean}},emits:["update:modelValue","submit"],setup(e){return(t,n)=>(ye(),Xe(Yo,{"model-value":t.modelValue,"onUpdate:modelValue":n[1]||(n[1]=a=>t.$emit("update:modelValue",a))},{default:L(()=>[B(Ln,null,{default:L(()=>[B(at,{align:"center"},{default:L(()=>[Qe("div",cr,[un(t.$slots,"heading",{},()=>[ba("Alert")])])]),_:3}),B(at,{align:"center"},{default:L(()=>[Qe("div",dr,[un(t.$slots,"body")])]),_:3}),B(Vn,{align:"center"},{default:L(()=>[un(t.$slots,"footer",{},()=>[wn(B(F(mt),{label:"Ok",loading:t.footerLoading,onClick:n[0]||(n[0]=a=>t.$emit("submit"))},null,8,["loading"]),[[Cn]])])]),_:3})]),_:3})]),_:3},8,["model-value"]))}}),vr=Fe({__name:"EventCellActions",props:{event:{}},setup(e){const t=e,n=bt(),a=Se(!1),o=()=>{n.deleteOne(t.event.eventName)},l=An(),r=()=>{l.push({name:In.EVENT.EDIT,params:{eventName:t.event.eventName}})};return(s,i)=>(ye(),Xe(_a,{class:"relative"},{default:L(()=>[B(je,{icon:"menu",flat:"",class:"px-2 py-0 c-tertiary [&_.q-icon]:text-md! items-center!"},{default:L(()=>[B(Wo,null,{default:L(()=>[B(wa,{style:{"min-width":"100px"}},{default:L(()=>[wn(B(F(mt),{label:"Delete",class:"b-rd-0! w-full",onClick:i[0]||(i[0]=c=>a.value=!0)},null,512),[[Cn]]),wn(B(F(mt),{label:"Edit",class:"b-rd-0! w-full",onClick:r},null,512),[[Cn]])]),_:1})]),_:1})]),_:1}),B(F(fr),{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=c=>a.value=c),onSubmit:o,footerLoading:F(n).deleteOneState.state==="loading"},{body:L(()=>[ba("Delete event "+pa(s.event.eventName)+" ?",1)]),_:1},8,["modelValue","footerLoading"])]),_:1}))}}),Er=Fe({__name:"WEventsList",props:{columns:{}},setup(e){const t=e,n=bt(),{changePage:a,reorder:o}=bt(),{list:l,listOpts:r,totalPages:s,reorderState:i}=ko(n),c=g(()=>{var v;return(v=l.value.data)==null?void 0:v.data}),u=g(()=>{const v=t.columns.map(S=>({name:S,label:S,field:S,align:"center",sortable:!0}));return[{name:"drag",label:"",field:""},...v,{name:"actions",label:"",field:""}]}),f=v=>{var h;r.value.rowsPerPage=v.rowsPerPage,r.value.descending=v.sortBy?v.descending:!r.value.descending,r.value.sortBy=(h=v.sortBy)!=null?h:"position"},y=g(()=>i.value.state!=="loading"&&r.value.sortBy==="position"),p=Se();return qn(()=>{if(!p.value)return;const h=p.value.$el.querySelector(".q-virtual-scroll__content"),S=C.create(h,{animation:150,handle:".draggable-btn",onEnd:async k=>{const P=p.value.computedRows;if(!P||k.newIndex===void 0||k.oldIndex===void 0)return;const $=P[k.oldIndex].position,O=P[k.newIndex].position;await o($,O)}});kn(()=>S.destroy())}),(v,h)=>(ye(),Xe(F(Rl),{ref_key:"$root",ref:p,title:"Events",rows:c.value,columns:u.value,"row-key":"eventName",class:"pa-3! mt-2 mx-2","virtual-scroll":"",loading:F(l).state==="loading"||F(i).state==="loading",pagination:F(r),"onUpdate:pagination":f},{pagination:L(()=>[B(Jo,{"model-value":F(r).page,"onUpdate:modelValue":F(a),max:F(s),"max-pages":F(s)},null,8,["model-value","onUpdate:modelValue","max","max-pages"])]),"body-cell-drag":L(S=>[B(_a,{props:S},{default:L(()=>[B(je,{flat:"",icon:"drag_handle",disable:!y.value,class:"draggable-btn px-2 py-0 c-tertiary [&_.q-icon]:text-md! items-center! cursor-grab"},null,8,["disable"]),Qe("div",{class:Oo(["absolute z-1 left-0 top-0",{"w-full h-full":!y.value}])},null,2)]),_:2},1032,["props"])]),"body-cell-actions":L(S=>[B(vr,{event:S.row},null,8,["event"])]),_:1},8,["rows","columns","loading","pagination"]))}}),Cr=Fe({__name:"WEventsListSelectColumns",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,o=["firstName","lastName","email","organization","phone","date","country","eventName","position","text"],{values:l,isFieldValid:r,setTouched:s}=Rn({validationSchema:No({columns:Bo().of(It().required().oneOf(o)).min(3).required()}),initialValues:{columns:n.modelValue}});return se(l,async i=>{await Nn(),r("columns")?a("update:modelValue",i.columns):s(!0)}),(i,c)=>(ye(),Xe(F(Uo),{name:"columns",options:o,multiple:"","options-selected-class":"bg-tertiary/10"}))}});Fe({__name:"EEventTableRow",props:{event:{},columns:{}},setup(e){const t=e,n=g(()=>t.columns.map(o=>({label:t.event[o],key:o}))),a=o=>o instanceof Date?o.toLocaleDateString():o;return(o,l)=>(ye(),Rt(En,null,[Qe("td",null,[B(Wt,{name:"drag_handle"})]),(ye(!0),Rt(En,null,Ao(n.value,r=>(ye(),Rt("td",{key:r.key},[Qe("span",null,pa(a(r.label)),1)]))),128))],64))}});const Va=Fe({__name:"EEventFields",props:{edit:{type:Boolean}},setup(e){return(t,n)=>(ye(),Rt(En,null,[B(F(Oe),{name:"firstName",label:"firstName"}),B(F(Oe),{name:"lastName",label:"lastName"}),B(F(Oe),{name:"phone",label:"phone"}),B(F(Oe),{name:"email",label:"email"}),B(F(Oe),{name:"organization",label:"organization"}),B(F(Oe),{name:"country",label:"country"}),t.edit?Io("",!0):(ye(),Xe(F(Oe),{key:0,name:"eventName",label:"eventName"})),B(F(Go),{name:"date",label:"date"}),B(F(Oe),{name:"text",label:"text"})],64))}});class gr{async getMeByEmail(t){var l,r;const n=Ne(Ro(),rt("email","==",t));return(r=(l=(await Ze(n)).docs[0])==null?void 0:l.data())!=null?r:null}}const hr=Bn("profile",()=>{const e=Fo(),t=$o(),n=new gr,a=we(Pe("unset")),o=Mo(t,"isAuth");return Vo(async()=>{var l;if(((l=e.value)==null?void 0:l.email)&&o.value.data){a.loading(),a.data=await n.getMeByEmail(e.value.email),a.success();return}a.success(),a.data=null}),{me:a}}),mr=Qe("div",{class:"text-h6"},"Create Event",-1),Dr=Fe({__name:"WCreateEvent",setup(e){const t=bt(),n=hr(),a=An(),{handleSubmit:o,setValues:l}=Rn({validationSchema:Yt.shape});if(n.me.state==="success"&&n.me.data)l(n.me.data);else{const s=se(()=>n.me.data,()=>{n.me.state==="success"&&n.me.data&&(l(n.me.data),s())})}const r=o(async s=>{await t.create(s)instanceof ht||a.push({name:In.DASHBOARD.EVENTS})});return(s,i)=>(ye(),Xe(Ln,{class:"flex flex-col h-full"},{default:L(()=>[B(at,null,{default:L(()=>[mr]),_:1}),B(at,{class:"q-pt-none flex-1"},{default:L(()=>[B(Sa,{class:"w-full h-full"},{default:L(()=>[B(F(Va))]),_:1})]),_:1}),B(Vn,{align:"right"},{default:L(()=>[B(F(mt),{flat:"",label:"OK",color:"primary",onClick:F(r),loading:F(t).createState.state==="loading"},null,8,["onClick","loading"])]),_:1})]),_:1}))}}),br=Qe("div",{class:"text-h6"},"Edit Event",-1),xr=Fe({__name:"WEditEvent",props:{eventName:{}},setup(e){const t=e,n=ur();n.fetchEvent(t.eventName);const a=An(),{handleSubmit:o,setValues:l}=Rn({validationSchema:Yt.shape});if(n.event.state==="success"&&n.event.data)l(n.event.data);else{const s=se(()=>n.event.data,()=>{n.event.state==="success"&&n.event.data&&(l(n.event.data),s())})}const r=o(async s=>{await n.editEvent(t.eventName,s)instanceof ht||a.push({name:In.DASHBOARD.EVENTS})});return(s,i)=>(ye(),Xe(Ln,{class:"flex flex-col h-full"},{default:L(()=>[B(at,null,{default:L(()=>[br]),_:1}),B(at,{class:"q-pt-none flex-1"},{default:L(()=>[B(Sa,{class:"w-full h-full"},{default:L(()=>[B(F(Va),{edit:""})]),_:1})]),_:1}),B(Vn,{align:"right"},{default:L(()=>[B(F(mt),{flat:"",label:"OK",color:"primary",onClick:F(r),loading:F(n).editState.state==="loading"},null,8,["onClick","loading"])]),_:1})]),_:1}))}});export{Cr as _,Er as a,Dr as b,xr as c,bt as u};
